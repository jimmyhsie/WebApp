(this.webpackJsonpdemov2=this.webpackJsonpdemov2||[]).push([[0],{148:function(e,t,a){e.exports=a.p+"static/media/searchExample.6f3082f0.png"},149:function(e,t){e.exports="data:image/png;base64,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"},150:function(e,t,a){e.exports=a.p+"static/media/popupform.4a974777.png"},151:function(e,t,a){e.exports=a.p+"static/media/sidebar.ab9db4f7.png"},156:function(e,t,a){e.exports=a(312)},161:function(e,t,a){},171:function(e,t){},310:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),l=a.n(o),i=(a(161),a(15)),c=a(16),s=a(20),u=a(17),p=a(21),d=a(31),f=a.n(d),m=a(13),g=a(140),h=a(98),y=a(100),b=a(97),E=a(96),v=a(141),O=a.n(v),k=function(e){return{type:"modalstate",mstate:e}},j=function(e){return{type:"blogmodalstate",mstate:e}},x=a(19),w=a(99),P=a(14);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var F=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:none;}")),I=r.a.createElement("g",{"data-name":"Layer 2",id:"Layer_2"},r.a.createElement("path",{d:"M26,27H6a3,3,0,0,1-3-3V8A3,3,0,0,1,6,5H26a3,3,0,0,1,3,3V24A3,3,0,0,1,26,27ZM6,7A1,1,0,0,0,5,8V24a1,1,0,0,0,1,1H26a1,1,0,0,0,1-1V8a1,1,0,0,0-1-1Z"}),r.a.createElement("path",{d:"M21,15a3,3,0,1,1,3-3A3,3,0,0,1,21,15Zm0-4a1,1,0,1,0,1,1A1,1,0,0,0,21,11Z"}),r.a.createElement("path",{d:"M26,27a1,1,0,0,1-.83-.45l-4.34-6.5a1,1,0,0,0-1.66,0l-.34.5a1,1,0,0,1-1.66-1.1l.33-.51a3,3,0,0,1,5,0l4.33,6.51a1,1,0,0,1-.28,1.38A.94.94,0,0,1,26,27Z"}),r.a.createElement("path",{d:"M6,27a1,1,0,0,1-.54-.16,1,1,0,0,1-.3-1.38l6.23-9.62a3,3,0,0,1,2.5-1.37h0a3,3,0,0,1,2.5,1.34l6.42,9.64a1,1,0,0,1-1.66,1.1l-6.43-9.63a1,1,0,0,0-.83-.45h0a1,1,0,0,0-.83.46L6.84,26.54A1,1,0,0,1,6,27Z"})),C=r.a.createElement("g",{id:"frame"},r.a.createElement("rect",{className:"cls-1",height:32,width:32})),T=function(e){var t=e.svgRef,a=e.title,n=S(e,["svgRef","title"]);return r.a.createElement("svg",A({viewBox:"0 0 32 32",ref:t},n),F,a?r.a.createElement("title",null,a):null,I,C)},R=r.a.forwardRef((function(e,t){return r.a.createElement(T,A({svgRef:t},e))}));a.p;function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var _=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:none;}")),D=r.a.createElement("g",{"data-name":"Layer 2",id:"Layer_2"},r.a.createElement("path",{d:"M16,29a1,1,0,0,1-.71-.29l-7.07-7a10.91,10.91,0,0,1,0-15.48,11.07,11.07,0,0,1,15.56,0,10.91,10.91,0,0,1,0,15.48l-7.07,7A1,1,0,0,1,16,29ZM16,5A9,9,0,0,0,9.63,7.62h0a8.91,8.91,0,0,0,0,12.64L16,26.59l6.37-6.33a8.91,8.91,0,0,0,0-12.64A9,9,0,0,0,16,5ZM8.93,6.91h0Z"}),r.a.createElement("path",{d:"M16,19a5,5,0,1,1,5-5A5,5,0,0,1,16,19Zm0-8a3,3,0,1,0,3,3A3,3,0,0,0,16,11Z"})),M=r.a.createElement("g",{id:"frame"},r.a.createElement("rect",{className:"cls-1",height:32,width:32})),J=function(e){var t=e.svgRef,a=e.title,n=L(e,["svgRef","title"]);return r.a.createElement("svg",B({viewBox:"0 0 32 32",ref:t},n),_,a?r.a.createElement("title",null,a):null,D,M)},W=r.a.forwardRef((function(e,t){return r.a.createElement(J,B({svgRef:t},e))}));a.p;function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Z=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:none;}")),z=r.a.createElement("g",{"data-name":"Layer 2",id:"Layer_2"},r.a.createElement("path",{d:"M25,14a1,1,0,0,1-.71-.29L16,5.41l-8.29,8.3a1,1,0,0,1-1.42-1.42l9-9a1,1,0,0,1,1.42,0l9,9a1,1,0,0,1,0,1.42A1,1,0,0,1,25,14Z"}),r.a.createElement("path",{d:"M16,29a1,1,0,0,1-1-1V4a1,1,0,0,1,2,0V28A1,1,0,0,1,16,29Z"})),U=r.a.createElement("g",{id:"frame"},r.a.createElement("rect",{className:"cls-1",height:32,width:32})),H=function(e){var t=e.svgRef,a=e.title,n=G(e,["svgRef","title"]);return r.a.createElement("svg",N({viewBox:"0 0 32 32",ref:t},n),Z,a?r.a.createElement("title",null,a):null,z,U)},V=r.a.forwardRef((function(e,t){return r.a.createElement(H,N({svgRef:t},e))}));a.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Q=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:none;}")),X=r.a.createElement("g",{"data-name":"Layer 2",id:"Layer_2"},r.a.createElement("path",{d:"M27,29H9a1,1,0,0,1-1-1V16a1,1,0,0,1,2,0V27H26V6a1,1,0,0,0-1-1H7A1,1,0,0,1,7,3H25a3,3,0,0,1,3,3V28A1,1,0,0,1,27,29Z"}),r.a.createElement("path",{d:"M9,17H5a1,1,0,0,1-1-1V6a3,3,0,0,1,6,0V16A1,1,0,0,1,9,17ZM6,15H8V6A1,1,0,0,0,6,6Z"}),r.a.createElement("path",{d:"M19,19H13a1,1,0,0,1,0-2h6a1,1,0,0,1,0,2Z"}),r.a.createElement("path",{d:"M23,23H13a1,1,0,0,1,0-2H23a1,1,0,0,1,0,2Z"}),r.a.createElement("path",{d:"M21,15H13a1,1,0,0,1,0-2h8a1,1,0,0,1,0,2Z"}),r.a.createElement("path",{d:"M23,8H13a1,1,0,0,1-1-1V4a1,1,0,0,1,1-1H23a1,1,0,0,1,1,1V7A1,1,0,0,1,23,8ZM14,6h8V5H14Z"})),q=r.a.createElement("g",{id:"frame"},r.a.createElement("rect",{className:"cls-1",height:32,width:32})),$=function(e){var t=e.svgRef,a=e.title,n=K(e,["svgRef","title"]);return r.a.createElement("svg",Y({viewBox:"0 0 32 32",ref:t},n),Q,a?r.a.createElement("title",null,a):null,X,q)},ee=r.a.forwardRef((function(e,t){return r.a.createElement($,Y({svgRef:t},e))}));a.p;function te(){var e=Object(m.a)(["    \n    background: #FFFFFF;\n    width: 300px;\n    \n\n"]);return te=function(){return e},e}function ae(){var e=Object(m.a)(["\n    background: #666666;\n    float: right;\n"]);return ae=function(){return e},e}P.a.input(ae());var ne=P.a.div(te()),re=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).photoUpload=function(e){e.preventDefault();var t=new FileReader,n=e.target.files[0];n&&(t.onloadend=function(){a.props.handlePhoto(t.result)},t.readAsDataURL(n))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"hhandleSubmit",value:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,f.a.awrap(this.props.handleSubmit(this.props.fdata));case 3:return t.next=5,f.a.awrap(fetch("/app/insert/layer/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.props.sfdata[this.props.clickFeatureID])}));case 5:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return r.a.createElement(w.a,{autoPan:!1},r.a.createElement(ne,null,r.a.createElement("form",{onSubmit:function(t){return e.hhandleSubmit(t)}},r.a.createElement("label",null,r.a.createElement("input",{name:"name",type:"text",placeholder:"\u8acb\u8f38\u5165\u5730\u9ede\u540d\u7a31",value:this.props.fdata.name||"",onChange:this.props.handleName,style:{width:"280px",padding:"0"}})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{name:"address",type:"text",placeholder:"\u8acb\u8f38\u5165\u5730\u5740",value:this.props.fdata.address||"",onChange:this.props.handleAddress,style:{width:"280px",padding:"0"}})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{name:"remark",type:"text",value:this.props.fdata.remark,onChange:this.props.handleRemark,placeholder:"\u5099\u8a3b",style:{height:"30px",width:"280px",padding:"0"}})),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"photo-upload",style:{width:"50%",marginLeft:"auto",marginRight:"auto",display:"block"}},r.a.createElement("div",{className:"img-wrap img-upload"},r.a.createElement("img",{src:this.props.fdata.imagePreviewUrl,style:{width:"50%",marginLeft:"auto",marginRight:"auto",display:"block"}})),r.a.createElement("input",{id:"photo-upload",type:"file",onChange:this.photoUpload,style:{display:"none"}})),r.a.createElement("br",null),r.a.createElement("ul",{style:{padding:"0",float:"right"}},r.a.createElement("label",{htmlFor:"photo-upload",style:{cursor:"pointer"}},r.a.createElement(R,{width:25})),r.a.createElement("label",{style:{cursor:"pointer"}},r.a.createElement(ee,{width:25,onClick:this.props.blogmodalstate})),r.a.createElement(V,{width:25,style:{cursor:"pointer",float:"right"},onClick:function(t){return e.hhandleSubmit(t)}})),r.a.createElement("ul",{style:{padding:"0"}},r.a.createElement(W,{style:{float:"left"},width:25,htmlFor:""}),r.a.createElement("span",null,this.props.position[0],",",this.props.position[1])))))}}]),t}(n.Component),oe=Object(x.b)((function(e){return{fdata:e.fdata,LayerId:e.LayerId,ulstate:e.ulstate,position:[Math.round(1e4*e.lat)/1e4,Math.round(1e4*e.lng)/1e4],sfdata:e.sfdata,clickFeatureID:e.clickFeatureID,pointerToPopup:e.pointerToPopup}}),(function(e){return{handleName:function(t){e({type:"handleName",name:t.target.value})},handleAddress:function(t){e({type:"handleAddress",address:t.target.value})},handleCoordinate:function(t){e({type:"handleCoordinate",coordinate:t.target.value})},handlePhoto:function(t){e(function(e){return{type:"handlePhoto",photo:e}}(t))},handleRemark:function(t){e({type:"handleRemark",remark:t.target.value})},handleSubmit:function(t){e({type:"handleSubmit",fdata:t})},blogmodalstate:function(t){e(j(t))}}}))(re);function le(){var e=Object(m.a)(["\n\n    width: 300px;\n    background: #FFFFFF;\n    \n\n"]);return le=function(){return e},e}function ie(){var e=Object(m.a)(["\ncolor: tomato;\nbackground: #666666;\nfloat: right;\n"]);return ie=function(){return e},e}var ce=P.a.button(ie()),se=P.a.div(le()),ue=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(w.a,null,r.a.createElement(se,null,r.a.createElement("span",null,this.props.GoogleSearchMarker.value.formatted_address),r.a.createElement("br",null),r.a.createElement(W,{style:{float:"left"},width:20,htmlFor:""}),r.a.createElement("span",null,this.props.GoogleSearchMarker.position),r.a.createElement(ce,{type:"submit",onClick:function(t){return e.props.GoogleMarkerToLayer(t)}},"\u52a0\u5165\u5716\u5c64")))}}]),t}(n.Component),pe=Object(x.b)((function(e){return{fdata:e.fdata,LayerId:e.LayerId,ulstate:e.ulstate,position:[Math.round(1e4*e.lat)/1e4,Math.round(1e4*e.lng)/1e4],GoogleSearchMarker:e.GoogleSearchMarker}}),(function(e){return{GoogleMarkerToLayer:function(t){e(function(e){return{type:"GoogleMarkerToLayer",marker:e}}(t))}}}))(ue),de=a(153),fe=(a(170),a(2)),me=a.n(fe);a(172);function ge(){var e=Object(m.a)(["\n\n  \n  background: #FFFFFF;\n  \n\n"]);return ge=function(){return e},e}function he(){var e=Object(m.a)(["\nbackground: #666666;\nfloat: right;\n"]);return he=function(){return e},e}var ye=new me.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),be=(P.a.input(he()),P.a.div(ge()),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).CaculateBoundsToCenter=function(e){var t=e._latlngs[0];return[(t[0].lat+t[1].lat+t[2].lat+t[3].lat)/4,(t[0].lng+t[1].lng+t[2].lng+t[3].lng)/4]},e.PopupOpenWhenCreated=function(t){e.props.PopupOpenWhenCreatedAction(t)},e._onCreated=function(t){var a,n,r,o,l,i;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=t.layerType,n=t.layer,t.target.getBounds(),r=e.getMapZoom(),"marker"===a?console.log("_onCreated: marker created",e.props.sfdata):"circle"===a?(e.props.DispatchAddCircle(n,r),setTimeout((function(){e.PopupOpenWhenCreated(n)}),100),console.log("_onCreated: circle created",e.props.sfdata)):"polyline"===a?(o=n._latlngs[0],e.props.PopupOpenWhenCreatedActionForRectangle(o),e.props.DispatchAddPolyline(n,r),console.log("_onCreated: polyline created",e.props.sfdata)):"polygon"===a?(l=e.CaculateBoundsToCenter(n),setTimeout((function(){e.props.PopupOpenWhenCreatedActionForRectangle(l)}),100),e.props.DispatchAddPolygon(n,r),console.log("_onCreated: polygon created",e.props.sfdata)):"rectangle"===a&&(i=e.CaculateBoundsToCenter(n),setTimeout((function(){e.props.PopupOpenWhenCreatedActionForRectangle(i)}),100),e.props.DispatchAddRectangle(n,r),console.log("_onCreated: rectangle created",e.props.sfdata)),c.next=7,f.a.awrap(fetch("/app/insert/layer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.props.sfdata[n._leaflet_id])}));case 7:case"end":return c.stop()}}))},e._onEditPath=function(t){var a=e.getMapZoom();e.props.EditFeature(t.layers,a)},e._onDeleted=function(t){console.log(t),e.props.DeleteFeature(t.layers)},e.state={bluemarble:!1},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"layeradd",value:function(e){e.target.getBounds();var t=this.getMapZoom();this.props.PopupIdAdd(e.layer._leaflet_id),e.layer.dragging&&(this.PopupOpenWhenCreated(e.layer),this.props.DispatchAddMarker(e.layer,t))}},{key:"getMapZoom",value:function(){return this.map&&this.map.leafletElement.getZoom()}},{key:"getBounds",value:function(){if("object"===typeof this.props.bounds)return this.props.bounds}},{key:"GoogleSearchMarker",value:function(e){if("OK"==e)return r.a.createElement(h.a,{icon:ye,position:this.props.GoogleSearchPosition,opacity:1,ref:function(e){e&&e.leafletElement.openPopup()}},r.a.createElement(pe,null))}},{key:"ToolStateSwitch",value:function(e){if(!0===e)return r.a.createElement(de.a,{position:"topright",onEdited:this._onEditPath,onCreated:this._onCreated,onDeleted:this._onDeleted,draw:{rectangle:!0,circlemarker:!1}})}},{key:"LayerSwitch",value:function(e){return 0==e?r.a.createElement(y.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}):1==e?r.a.createElement(g.GoogleLayer,{googlekey:"AIzaSyB-DzlaXFMDeKrnNKs_EzP27BTnqZ5BfiE",maptype:"HYBRID"}):2==e?r.a.createElement(O.a,{url:"https://wmts.nlsc.gov.tw/wmts",layer:"EMAP",tilematrixSet:"EPSG:3857",format:"image/jpeg",transparent:!0,opacity:1}):void 0}},{key:"showthepopup",value:function(e){console.log(this.props.pointerToPopup.TF),e&&this.props.pointerToPopup.TF&&e.leafletElement.openPopup(this.props.pointerToPopup.po)}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{center:[this.props.lat,this.props.lng],zoom:this.props.zoom,zoomControl:!1,style:{zIndex:1,cursor:this.props.mapcursor},ref:function(t){e.map=t}},this.LayerSwitch(this.props.LayerId),r.a.createElement(E.a,{onClick:function(t){return e.props.getFeatureID(t.layer._leaflet_id)},onlayeradd:function(t){return e.layeradd(t)},ref:function(t){t&&e.props.pointerToPopup.TF&&t.leafletElement.openPopup(e.props.pointerToPopup.po)},onPopupClose:function(t){e.props.removePopup(t)}},this.ToolStateSwitch(this.props.toolsta),Object.keys(this.props.MarkersPosition).map((function(t,a){return r.a.createElement(h.a,{key:t,position:e.props.MarkersPosition[t],opacity:.9})})),r.a.createElement(oe,null)),this.GoogleSearchMarker(this.props.GoogleSearchStatus))}}]),t}(n.Component)),Ee=Object(x.b)((function(e){return{inputText:e.inputText,LayerId:e.LayerId,lat:e.lat,lng:e.lng,zoom:e.zoom,bounds:e.bounds,MarkersPosition:e.MarkersPosition,mapcursor:e.mapcursor,functiontype:e.functiontype,toolsta:e.toolsta,GoogleSearchStatus:e.GoogleSearchMarker.status,GoogleSearchPosition:e.GoogleSearchMarker.position,sfdata:e.sfdata,pointerToPopup:e.pointerToPopup}}),(function(e){return{DispatchAddMarker:function(t,a){e(function(e,t){return{type:"DispatchAddMarker",layer:e,bounds:t}}(t,a))},DispatchAddCircle:function(t,a){e(function(e,t){return{type:"DispatchAddCircle",layer:e,zoom:t}}(t,a))},DispatchAddRectangle:function(t,a){e(function(e,t){return{type:"DispatchAddRectangle",layer:e,zoom:t}}(t,a))},DispatchAddPolygon:function(t,a){e(function(e,t){return{type:"DispatchAddPolygon",layer:e,zoom:t}}(t,a))},DispatchAddPolyline:function(t,a){e(function(e,t){return{type:"DispatchAddPolyline",layer:e,zoom:t}}(t,a))},removeLi:function(t){e(function(e){return{type:"removeLi",layer:e}}(t))},EditFeature:function(t,a){e(function(e,t){return{type:"EditFeature",layer:e,zoom:t}}(t,a))},DeleteFeature:function(t){e(function(e,t){return{type:"DeleteFeature",layer:e,zoom:t}}(t))},getFeatureID:function(t){e({type:"getFeatureID",id:t})},getmoveend:function(t){e(function(e){return{type:"getmoveend",e:e}}(t))},removePopup:function(t){e(function(e){return{type:"removePopup",latlng:e}}(t))},PopupOpenWhenCreatedAction:function(t){e(function(e){return{type:"PopupOpenWhenCreatedAction",layer:e}}(t))},PopupOpenWhenCreatedActionForRectangle:function(t){e(function(e){return{type:"PopupOpenWhenCreatedActionForRectangle",center:e}}(t))},PopupIdAdd:function(t){e(function(e){return{type:"PopupIdAdd",id:e}}(t))}}}))(be),ve=a(70),Oe=a.n(ve);function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function je(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var xe=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:none;}")),we=r.a.createElement("g",{"data-name":"Layer 2",id:"Layer_2"},r.a.createElement("path",{d:"M13,23A10,10,0,1,1,23,13,10,10,0,0,1,13,23ZM13,5a8,8,0,1,0,8,8A8,8,0,0,0,13,5Z"}),r.a.createElement("path",{d:"M28,29a1,1,0,0,1-.71-.29l-8-8a1,1,0,0,1,1.42-1.42l8,8a1,1,0,0,1,0,1.42A1,1,0,0,1,28,29Z"})),Pe=r.a.createElement("g",{id:"frame"},r.a.createElement("rect",{className:"cls-1",height:32,width:32})),Ae=function(e){var t=e.svgRef,a=e.title,n=je(e,["svgRef","title"]);return r.a.createElement("svg",ke({viewBox:"0 0 32 32",ref:t},n),xe,a?r.a.createElement("title",null,a):null,we,Pe)},Se=r.a.forwardRef((function(e,t){return r.a.createElement(Ae,ke({svgRef:t},e))}));a.p;function Fe(){var e=Object(m.a)(["\n@media (min-width:375px) {\n    width: 150px;\n}\n@media (min-width:768px) {\n    width: 200px;\n}\nheight: 29px;\nfloat: left;\ndisplay: inline-block;\ntop: 0px;\nbackground: black;\ncolor: white;\nmargin-top: 5px;\n.point {\n    margin:4px;\n    float:left;\n    cursor:pointer;\n}\n.importfile {\n    margin:4px;\n    float:left;\n    cursor:pointer;\n}\n\n"]);return Fe=function(){return e},e}function Ie(){var e=Object(m.a)(["\nwidth: 100%;\nheight: 34px;\nbackground: black;\nposition: relative;\ncolor: white;\nselect {\n    height: 20px;\n    margin: 7px;\n    float:left;\n}\n.icon {\n    margin: 8px 0px 0px 0px ;\n    g {\n    \n        fill: #DB7290;;\n    }\n    g path {\n        \n        stroke: #DB7290;;\n        fill: #FFD0DD;\n    \n    }\n}\n \n"]);return Ie=function(){return e},e}function Ce(){var e=Object(m.a)(["\nheight: 100%;\nfloat: right;\ndisplay: inline-block;\nmargin-left: auto;\nbackground: black;\ncolor: white;\n\n@media (min-width:375px) {\n    width: 100px;\n    input {\n        display: inline-block;\n        width: 100%;\n        height: 20px;\n        margin: 8px 0px 0px 0px ;\n    }\n}\n@media (min-width:768px) {\n    width: 200px;\n    input {\n        display: inline-block;\n        width: 100%;\n        height: 20px;\n        margin: 8px 0px 0px 0px ;\n    }\n}\n\n"]);return Ce=function(){return e},e}var Te=P.a.div(Ce()),Re=P.a.div(Ie()),Be=P.a.div(Fe()),Le=[{id:0,name:"OSM",url:""},{id:1,name:"google",url:""},{id:2,name:"hybird",url:""}],_e=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"geoFirist",value:function(e){var t=this;Oe.a.setApiKey("AIzaSyB-DzlaXFMDeKrnNKs_EzP27BTnqZ5BfiE"),Oe.a.enableDebug(),Oe.a.fromAddress(e).then((function(e){var a=e.results[0];console.log(a),t.props.Geo(a)}),(function(e){console.error(e),alert("\u67e5\u4e0d\u5230\u8a72\u9ede\u4f4d")}))}},{key:"updateInputText",value:function(e){var t=e.target.value;this.props.AupdateInputText(t),"Enter"===e.key&&this.geoFirist(t)}},{key:"handleChange",value:function(e){var t=e.target.value;this.props.AhandleChange(t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Re,null,r.a.createElement("select",{value:this.props.LayerId,onChange:function(t){return e.handleChange(t)}},Le.map((function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement(Be,null,r.a.createElement("span",{className:"point",onClick:function(t){return e.props.toolstate(e.props.toolsta)}}," Tools "),r.a.createElement("span",{className:"importfile",onClick:this.props.modalstate}," ")),r.a.createElement(Te,null,r.a.createElement("input",{onChange:function(t){return e.updateInputText(t)},value:this.props.inputText,type:"text",placeholder:"\u8acb\u8f38\u5165\u5730\u5740",onKeyPress:function(t){return e.updateInputText(t)}})),r.a.createElement(Se,{className:"icon",width:25,style:{cursor:"pointer",float:"right",display:"inline-block"},onClick:function(){return e.geoFirist(e.props.inputText)}})))}}]),t}(n.Component),De=Object(x.b)((function(e){return{inputText:e.inputText,LayerId:e.LayerId,toolsta:e.toolsta}}),(function(e){return{Geo:function(t){e(function(e){return{type:"Geo",inputText:e}}(t))},AupdateInputText:function(t){e(function(e){return{type:"AupdateInputText",inputText:e}}(t))},AhandleChange:function(t){e({type:"AhandleChange",LayerId:t})},mapcursor:function(t){e(function(e){return{type:"mapcursor",cursortype:e}}(t))},toolstate:function(t){e({type:"toolstate",toolstate:t})},modalstate:function(t){e(k(t))}}}))(_e),Me=a(22),Je=a(39),We=a(25),Ne=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{show:this.props.mmodalstate,onHide:this.props.modalstate},r.a.createElement(Me.a.Header,{closeButton:!0},r.a.createElement(Me.a.Title,null,"\u532f\u5165\u6a94\u6848")),r.a.createElement(Me.a.Body,null,r.a.createElement(We.a,null,r.a.createElement(We.a.Group,{controlId:"formBasicImage"},r.a.createElement(We.a.Text,{className:"text-muted"},"Please input GPX/Image/Raster/Vecter file"),r.a.createElement(We.a.Label,null),r.a.createElement(We.a.Control,{type:"file",placeholder:"Image/Raster/PNG..."})))),r.a.createElement(Me.a.Footer,null,r.a.createElement(Je.a,{variant:"secondary",onClick:this.props.modalstate}," \u7d50\u675f "),r.a.createElement(Je.a,{variant:"primary"}," \u9001\u51fa "))))}}]),t}(n.Component),Ge=Object(x.b)((function(e){return{mmodalstate:e.modalstate}}),(function(e){return{modalstate:function(t){e(k(t))}}}))(Ne),Ze=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{show:this.props.bblogmodalstate,onHide:this.props.blogmodalstate},r.a.createElement(Me.a.Header,{closeButton:!0},r.a.createElement(Me.a.Title,null,"\u5beb\u9ede\u904a\u8a18\u5427!!!")),r.a.createElement(Me.a.Body,null,r.a.createElement(We.a,{id:"myForm"},r.a.createElement(We.a.Group,{controlId:"formBasicImage"},r.a.createElement(We.a.Text,{className:"text-muted"},"\u5beb\u9ede\u904a\u8a18\u5427!!!"),r.a.createElement(We.a.Label,null),r.a.createElement("textarea",{id:"blogText",className:"form-control",value:this.props.blog,onChange:function(t){return e.props.handleBlog(t.target.value)}})))),r.a.createElement(Me.a.Footer,null,r.a.createElement(Je.a,{variant:"secondary",onClick:this.props.blogmodalstate}," \u7d50\u675f "),r.a.createElement(Je.a,{variant:"primary",form:"myForm",onClick:function(t){e.props.bloghandleSubmit(e.props.blog),alert("\u6a94\u6848\u5df2\u5132\u5b58")}}," \u5132\u5b58 "))))}}]),t}(n.Component),ze=Object(x.b)((function(e){return{bblogmodalstate:e.blogmodalstate,blog:e.fdata.blog}}),(function(e){return{blogmodalstate:function(t){e(j(t))},bloghandleSubmit:function(t){e(function(e){return{type:"bloghandleSubmit",blog:e}}(t))},handleBlog:function(t){e(function(e){return{type:"handleBlog",blog:e}}(t))}}}))(Ze),Ue=a(148),He=a.n(Ue),Ve=a(149),Ye=a.n(Ve),Ke=a(150),Qe=a.n(Ke),Xe=a(151),qe=a.n(Xe),$e=(a(310),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{show:this.props.pagestate,onHide:this.props.ppagestate},r.a.createElement(Me.a.Header,{closeButton:!0},r.a.createElement(Me.a.Title,null,"\u6b61\u8fce\u4f86\u5230\u963f\u9707\u7684\u5c0f\u7a7a\u9593 !!! ",r.a.createElement("h6",null,"(\u6301\u7e8c\u958b\u767c\u4e2d)"))),r.a.createElement(Me.a.Body,{style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"}},r.a.createElement(We.a,{id:"myForm"},r.a.createElement(We.a.Group,{controlId:"formBasicImage"},r.a.createElement(We.a.Text,{className:"text-muted"},r.a.createElement("h2",null,"\u4ee5\u4e0b\u662f\u64cd\u4f5c\u6559\u5b78"),r.a.createElement("ul",null,r.a.createElement("h4",null,"ToolBar"),r.a.createElement("li",{className:"toolbarPoints"},"\u4f4d\u65bc\u7db2\u9801\u6700\u9802\u5c64\u7684\u9ed1\u8272\u5340\u584a"),r.a.createElement("li",{className:"toolbarPoints"},"\u6700\u5de6\u908a\u53ef\u4ee5\u9ede\u9078\u5207\u63db\u5716\u5c64"),r.a.createElement("li",{className:"toolbarPoints"},"\u9ede\u64ca Tools \u6703\u986f\u793a\u7e6a\u5716\u5de5\u5177\u5217\u65bc\u53f3\u5074"),r.a.createElement("img",{src:Ye.a,style:{width:"20%",display:"block"}}),r.a.createElement("li",{className:"toolbarPoints"},"import File \u6b64\u529f\u80fd\u5c1a\u5728\u958b\u767c\u4e2d\uff0c\u656c\u8acb\u671f\u5f85!!!"),r.a.createElement("li",{className:"toolbarPoints"},"\u6700\u53f3\u5074\u7684\u641c\u5c0b\u5217\u53ef\u4ee5\u8f38\u5165\u60f3\u641c\u5c0b\u7684\u5730\u7406\u4f4d\u7f6e EX: \u53f0\u5317\u8eca\u7ad9"),r.a.createElement("img",{src:He.a,style:{width:"80%",display:"block"}}),r.a.createElement("p",null,"\u9ede\u9078\u52a0\u5165\u5716\u5c64\u5f8c\u5c31\u80fd\u65b0\u589e\u8a3b\u89e3(\u5305\u542b\u5716\u7247\u3001\u9577\u7bc7\u7db2\u8a8c)"),r.a.createElement("li",{className:"toolbarPoints"},"\u6bcf\u500b\u5716\u5c64\u90fd\u80fd\u52a0\u5165\u8a3b\u89e3\u3001\u5716\u7247\u4ee5\u53ca\u7db2\u8a8c(\u9ede\u9078\u53f3\u4e0b\u89d2\u5716\u793a)"),r.a.createElement("img",{src:Qe.a,style:{width:"80%",display:"block"}}),r.a.createElement("h4",null,"SideBar"),r.a.createElement("li",{className:"toolbarPoints"}," \u5df2\u52a0\u5165\u7684\u5716\u5c64\u5247\u6703\u986f\u793a\u5728\u5730\u5716\u4ee5\u53ca\u5074\u908a\u9ed1\u6846\u4e2d"),r.a.createElement("img",{src:qe.a,style:{width:"80%",display:"block"}})))))),r.a.createElement(Me.a.Footer,null,r.a.createElement(Je.a,{variant:"secondary",onClick:this.props.ppagestate}," \u6211\u77ad\u89e3\u4e86~ "))))}}]),t}(n.Component)),et=Object(x.b)((function(e){return{pagestate:e.pagestate}}),(function(e){return{ppagestate:function(){e({type:"pagestate"})}}}))($e),tt=a(68),at=a(152),nt=a(7),rt=a(27),ot={pagestate:!0,test:"{}",viewcenter:[],pointerToPopup:{TF:!1,po:[0,0],type:"",createPo:[0,0]},ulstate:{OpenOrClose:[]},modalstate:!1,blogmodalstate:!1,GoogleSearchMarker:{position:[0,0],status:"",value:{}},lat:25.0782884,lng:121.6067442,MarkersPosition:{},zoom:11,bounds:"",LayerId:0,inputText:"",response:{},sfdata:{},promiseaddress:"",fdata:{layer:{},id:1,name:"",address:"",coordinate:"",photo:"",remark:"",blog:"",imagePreviewUrl:""},mapcursor:"",functiontype:"",toolsta:!1,clickFeatureID:""},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"test":return console.log(t.testi),Object(nt.a)({},e,{test:t.testi});case"Geo":return Object(nt.a)({},e,{inputText:"",lat:t.inputText.geometry.location.lat,lng:t.inputText.geometry.location.lng,zoom:16,response:t.inputText,fdata:Object(nt.a)({},e.fdata,{coordinate:[t.inputText.geometry.location.lat,t.inputText.geometry.location.lng]}),GoogleSearchMarker:Object(nt.a)({},e.GoogleSearchMarker,{value:t.inputText,position:[t.inputText.geometry.location.lat,t.inputText.geometry.location.lng],status:"OK"})});case"AupdateInputText":return Object(nt.a)({},e,{inputText:t.inputText});case"AhandleChange":return Object(nt.a)({},e,{LayerId:t.LayerId});case"handleName":return Object(nt.a)({},e,{fdata:Object(nt.a)({},e.fdata,{name:t.name})});case"handleAddress":return Object(nt.a)({},e,{fdata:Object(nt.a)({},e.fdata,{address:t.address})});case"handleCoordinate":return Object(nt.a)({},e,{fdata:Object(nt.a)({},e.fdata,{coordinate:[e.lat,e.lng]})});case"handlePhoto":return Object(nt.a)({},e,{fdata:Object(nt.a)({},e.fdata,{photo:t.photo,imagePreviewUrl:t.photo})});case"handleRemark":return Object(nt.a)({},e,{fdata:Object(nt.a)({},e.fdata,{remark:t.remark})});case"handleBlog":return Object(nt.a)({},e,{fdata:Object(nt.a)({},e.fdata,{blog:t.blog})});case"handleSubmit":var a=e.clickFeatureID,n=Object(rt.a)(e,(function(e){e.sfdata[a].name=t.fdata.name,e.sfdata[a].address=t.fdata.address,e.sfdata[a].photo=t.fdata.photo,e.sfdata[a].imagePreviewUrl=t.fdata.photo,e.sfdata[a].remark=t.fdata.remark}));return n;case"bloghandleSubmit":var r=e.clickFeatureID,o=Object(rt.a)(e,(function(e){e.sfdata[r].blog=t.blog}));return o;case"PopupIdAdd":var l=Object(rt.a)(e,(function(e){e.clickFeatureID=t.id}));return l;case"getFeatureID":var i=Object(rt.a)(e,(function(a){a.fdata.name=e.sfdata[t.id].name,a.fdata.address=e.sfdata[t.id].address,a.fdata.photo=e.sfdata[t.id].photo,a.fdata.remark=e.sfdata[t.id].remark,a.fdata.blog=e.sfdata[t.id].blog,a.clickFeatureID=t.id}));return i;case"removePopup":var c=Object(rt.a)(e,(function(e){e.pointerToPopup.TF=!1,e.pointerToPopup.po=[0,0],e.fdata.name="",e.fdata.address="",e.fdata.photo="",e.fdata.imagePreviewUrl="",e.fdata.remark="",e.fdata.blog=""}));return c;case"openPopup":var s=Object(rt.a)(e,(function(e){e.pointerToPopup.TF=!0}));return s;case"ulonclick":var u=Object(rt.a)(e,(function(a){a.sfdata[t.id].OpenOrClose=!e.sfdata[t.id].OpenOrClose,a.blogmodalstate=!0,a.fdata.blog=a.sfdata[t.id].blog}));return u;case"getmoveend":var p=Object(rt.a)(e,(function(t){t.pointerToPopup.TF=!0,t.pointerToPopup.po=e.pointerToPopup.createPo}));return p;case"pointer":var d=Object(rt.a)(e,(function(e){var a=1e-6*Math.random();e.fdata.name=t.data.name,e.fdata.address=t.data.address,e.fdata.photo=t.data.photo,e.fdata.remark=t.data.remark,e.fdata.blog=t.data.blog,e.lat=t.data.coordinate[0]+a,e.lng=t.data.coordinate[1]+a,0==e.pointerToPopup.po[0]&&e.pointerToPopup.po[0]!==t.data.coordinate[0]?(e.pointerToPopup.TF=!e.pointerToPopup.TF,e.pointerToPopup.po=[t.data.coordinate[0],t.data.coordinate[1]]):0!==e.pointerToPopup.po[0]&&e.pointerToPopup.po[0]!==t.data.coordinate[0]?e.pointerToPopup.po=[t.data.coordinate[0],t.data.coordinate[1]]:0!==e.pointerToPopup.po[0]&&e.pointerToPopup.po[0]==t.data.coordinate[0]&&(e.pointerToPopup.TF=!0)}));return d;case"GoogleMarkerToLayer":var f=e.GoogleSearchMarker.position;return Object(nt.a)({},e,{MarkersPosition:Object(nt.a)({},e.MarkersPosition,{coor:f}),GoogleSearchMarker:Object(nt.a)({},e.GoogleSearchMarker,{position:[0,0],status:"",value:{}})});case"removeLi":return Object(nt.a)({},e,{MarkersPosition:{}});case"mapcursor":return console.log(t.cursortype),Object(nt.a)({},e,{mapcursor:t.cursortype[0],functiontype:t.cursortype[1]});case"toolstate":return Object(nt.a)({},e,{toolsta:!t.toolstate});case"PopupOpenWhenCreatedAction":var m=Object(rt.a)(e,(function(e){e.pointerToPopup.TF=!0,e.pointerToPopup.po=[t.layer._latlng.lat,t.layer._latlng.lng]}));return m;case"PopupOpenWhenCreatedActionForRectangle":var g=Object(rt.a)(e,(function(e){e.pointerToPopup.TF=!0,e.pointerToPopup.po=t.center}));return g;case"DispatchAddMarker":var h=t.layer._leaflet_id,y={},b=(new Date).getTime();return y[h]={layer:{po:[t.layer._latlng.lat,t.layer._latlng.lng]},layertype:"marker",name:"\u65b0\u589e\u5716\u5c64",address:"",photo:"",remark:"",coordinate:[t.layer._latlng.lat,t.layer._latlng.lng],id:t.layer._leaflet_id,uniID:b,OpenOrClose:!1},Object(nt.a)({},e,{lat:t.layer._latlng.lat+1e-6,lng:t.layer._latlng.lng+1e-6,zoom:t.zoom,sfdata:Object(nt.a)({},e.sfdata,{},y)});case"DispatchAddRectangle":console.log(t.layer._latlngs[0]);var E=t.layer._leaflet_id,v=(new Date).getTime(),O={},k=t.layer._bounds,j=(k._northEast.lat+k._southWest.lat)/2,x=(k._northEast.lng+k._southWest.lng)/2;return O[E]={layer:{po:[[t.layer._bounds._southWest.lat,t.layer._bounds._southWest.lng],[t.layer._bounds._northEast.lat,t.layer._bounds._northEast.lng]]},layertype:"rectangle",name:"\u65b0\u589e\u5716\u5c64",address:"",photo:"",remark:"",coordinate:[j,x],id:t.layer._leaflet_id,uniID:v,bounds:k,OpenOrClose:!1},Object(nt.a)({},e,{lat:j+1e-6,lng:x+1e-6,sfdata:Object(nt.a)({},e.sfdata,{},O),zoom:t.zoom});case"DispatchAddPolygon":var w=t.layer._leaflet_id,P=(new Date).getTime(),A={},S=t.layer._bounds,F=(S._northEast.lat+S._southWest.lat)/2,I=(S._northEast.lng+S._southWest.lng)/2;return A[w]={layer:{po:[t.layer._latlngs[0].map((function(e){return[e.lat,e.lng]}))]},layertype:"polygon",name:"\u65b0\u589e\u5716\u5c64",address:"",photo:"",remark:"",coordinate:[F,I],id:t.layer._leaflet_id,uniID:P,OpenOrClose:!1},Object(nt.a)({},e,{lat:F+1e-6,lng:I+1e-6,zoom:t.zoom,sfdata:Object(nt.a)({},e.sfdata,{},A)});case"DispatchAddPolyline":var C=t.layer._leaflet_id,T=(new Date).getTime(),R={},B=t.layer._bounds,L=(B._northEast.lat+B._southWest.lat)/2,_=(B._northEast.lng+B._southWest.lng)/2;return R[C]={layer:{po:[t.layer._latlngs.map((function(e){return[e.lat,e.lng]}))]},layertype:"polyline",name:"\u65b0\u589e\u5716\u5c64",address:"",photo:"",remark:"",coordinate:[L,_],id:t.layer._leaflet_id,uniID:T,OpenOrClose:!1},Object(nt.a)({},e,{lat:L+1e-6,lng:_+1e-6,zoom:t.zoom,sfdata:Object(nt.a)({},e.sfdata,{},R)});case"DispatchAddCircle":var D=t.layer._leaflet_id,M={},J=(new Date).getTime();return M[D]={layer:{po:[t.layer._latlng.lat,t.layer._latlng.lng],radius:t.layer._mRadius},layertype:"circle",name:"\u65b0\u589e\u5716\u5c64",address:"",photo:"",remark:"",coordinate:[t.layer._latlng.lat,t.layer._latlng.lng],id:t.layer._leaflet_id,zoom:t.zoom,uniID:J,OpenOrClose:!1},Object(nt.a)({},e,{lat:t.layer._latlng.lat+1e-6,lng:t.layer._latlng.lng+1e-6,zoom:t.zoom,sfdata:Object(nt.a)({},e.sfdata,{},M)});case"EditFeature":var W=Object.keys(t.layer._layers);console.log(e.sfdata);var N=Object(rt.a)(e,(function(e){W.map((function(a,n){console.log(t.layer._layers[a]);var r=t.layer._layers[a];if("marker"===e.sfdata[a].layertype)e.sfdata[a].coordinate=[r._latlng.lat,r._latlng.lng],e.sfdata[a].layer={po:[r._latlng.lat,r._latlng.lng]};else if("polyline"===e.sfdata[a].layertype){var o=r._bounds,l=(o._northEast.lat+o._southWest.lat)/2,i=(o._northEast.lng+o._southWest.lng)/2;e.sfdata[a].coordinate=[l,i],e.sfdata[a].layer={po:[r._latlngs.map((function(e){return[e.lat,e.lng]}))]}}else if("polygon"===e.sfdata[a].layertype){var c=r._bounds,s=(c._northEast.lat+c._southWest.lat)/2,u=(c._northEast.lng+c._southWest.lng)/2;e.sfdata[a].coordinate=[s,u],e.sfdata[a].layer={po:[r[0]._latlngs.map((function(e){return[e.lat,e.lng]}))]}}else if("rectangle"===e.sfdata[a].layertype){var p=r._bounds,d=(p._northEast.lat+p._southWest.lat)/2,f=(p._northEast.lng+p._southWest.lng)/2;e.sfdata[a].coordinate=[d,f],e.sfdata[a].layer={po:[[r._bounds._southWest.lat,r._bounds._southWest.lng],[r._bounds._northEast.lat,r._bounds._northEast.lng]]}}else"circle"===e.sfdata[a].layertype&&(e.sfdata[a].coordinate=[r._latlng.lat,r._latlng.lng],e.sfdata[a].layer={po:[r._latlng.lat,r._latlng.lng],radius:r._mRadius})}))}));return N;case"DeleteFeature":var G=Object.keys(t.layer._layers),Z=Object(rt.a)(e,(function(e){e.pointerToPopup.TF=!1;for(var t=0;t<G.length;t++)delete e.sfdata[G[t]]}));return Z;default:return e}},it=function(e,t){return"modalstate"===t.type?!1===e.modalstate?Object(nt.a)({},e,{modalstate:!0}):Object(nt.a)({},e,{modalstate:!1}):"blogmodalstate"===t.type?!1===e.blogmodalstate?Object(nt.a)({},e,{blogmodalstate:!0}):Object(nt.a)({},e,{blogmodalstate:!1}):"pagestate"===t.type?!1===e.pagestate?Object(nt.a)({},e,{pagestate:!0}):Object(nt.a)({},e,{pagestate:!1}):e},ct=Object(at.a)(lt,it);function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ut(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var pt=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:none;}")),dt=r.a.createElement("g",{"data-name":"Layer 2",id:"Layer_2"},r.a.createElement("path",{d:"M20,25a1,1,0,0,1-.71-.29l-8-8a1,1,0,0,1,0-1.42l8-8a1,1,0,1,1,1.42,1.42L13.41,16l7.3,7.29a1,1,0,0,1,0,1.42A1,1,0,0,1,20,25Z"})),ft=r.a.createElement("g",{id:"frame"},r.a.createElement("rect",{className:"cls-1",height:32,width:32})),mt=function(e){var t=e.svgRef,a=e.title,n=ut(e,["svgRef","title"]);return r.a.createElement("svg",st({viewBox:"0 0 32 32",ref:t},n),pt,a?r.a.createElement("title",null,a):null,dt,ft)},gt=r.a.forwardRef((function(e,t){return r.a.createElement(mt,st({svgRef:t},e))}));a.p;function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function yt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var bt=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:none;}")),Et=r.a.createElement("g",{"data-name":"Layer 2",id:"Layer_2"},r.a.createElement("path",{d:"M12,25a1,1,0,0,1-.71-.29,1,1,0,0,1,0-1.42L18.59,16l-7.3-7.29a1,1,0,1,1,1.42-1.42l8,8a1,1,0,0,1,0,1.42l-8,8A1,1,0,0,1,12,25Z"})),vt=r.a.createElement("g",{id:"frame"},r.a.createElement("rect",{className:"cls-1",height:32,width:32})),Ot=function(e){var t=e.svgRef,a=e.title,n=yt(e,["svgRef","title"]);return r.a.createElement("svg",ht({viewBox:"0 0 32 32",ref:t},n),bt,a?r.a.createElement("title",null,a):null,Et,vt)},kt=r.a.forwardRef((function(e,t){return r.a.createElement(Ot,ht({svgRef:t},e))}));a.p;function jt(){var e=Object(m.a)(["\n    \n    \n    float: left;\n    display: block;\n    @media (min-width:375px) {\n        \n        height: 250px;\n        width: 35%;\n        margin: 0 auto;\n        \n    }\n    @media (min-width:768px) {\n        \n        height: 720px;\n        width: 15%;\n        margin: 0 auto;\n        \n    }\n    margin-left: auto;\n    background: black;\n    color: white;\n    position: absolute;\n    z-index: 2;\n    animation: "," 0.3s linear ;\n    animation-fill-mode: forwards;\n    "]);return jt=function(){return e},e}function xt(){var e=Object(m.a)([""]);return xt=function(){return e},e}function wt(){var e=Object(m.a)(["\n    \n    background:",";\n    float: left;\n    display: inline;\n    position: absolute;\n    .App-minus g {\n    \n        fill: #DB7290;;\n    }\n    .App-minus g path {\n        \n        stroke: #DB7290;;\n        fill: #FFD0DD;\n        \n    }\n    .App-minus {\n        max-width: 30px; \n        max-height: 30px;\n        text-align: right;\n        \n        \n    }\n    width: 30px;\n    \n    z-index: 4;\n    \n    "]);return wt=function(){return e},e}function Pt(){var e=Object(m.a)(["\n\n    @media (min-width:375px) {\n        from{\n            width: 35%\n        }\n        to{\n            width: 0%\n        }\n    }\n    @media (min-width:768px) {\n        from{\n            width: 15%\n        }\n        to{\n            width: 0%\n        }\n    }\n"]);return Pt=function(){return e},e}function At(){var e=Object(m.a)(["\n\n    @media (min-width:375px) {\n        from{\n            width: 0%\n        }\n        to{\n            width: 35%\n        }\n    }\n    @media (min-width:768px) {\n        from{\n            width: 0%\n        }\n        to{\n            width: 15%\n        }\n    }\n"]);return At=function(){return e},e}function St(){var e=Object(m.a)(["\n\n\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(45deg);\n    }\n\n"]);return St=function(){return e},e}function Ft(){var e=Object(m.a)(["\n\n\nmargin:25 0 0 0;\npadding:0;\nlist-style-type: none;\nli.subli{\n    margin-top:30px;\n}\nli.subli:hover{\n    margin-top:30px;\n}\na.subtitle{\n    margin-top:15px;\n}\nul.submenu{\n    \n    margin-left:25px;\n    list-style-type:disc;\n    color:#333333;\n}\nbutton.RemoveButton{\n    float: right;\n    opacity: 0.2;\n    transition: opacity .35s ease;\n}\nbutton.RemoveButton:hover{\n    float: right;\n    opacity: 1;\n}\n.OpenButton{\n    float: right;\n    opacity: 0.2;\n    transition: opacity .35s ease;\n    display: inline;\n    g {\n    \n        fill: #DB7290;;\n    }\n    g path {\n        \n        stroke: #DB7290;;\n        fill: #FFD0DD;\n        \n    }\n    \n    max-width: 30px; \n    max-height: 30px;\n    text-align: right;\n}\n.OpenButton:hover{\n    float: right;\n    opacity: 1;\n}\n"]);return Ft=function(){return e},e}function It(){var e=Object(m.a)(["\nbackground: black;\nmargin:0 0 0 0;\nheight: 100%;\nz-index:3;\n\n"]);return It=function(){return e},e}function Ct(){var e=Object(m.a)(["\n\nfloat: right;\nz-index: 3;\n\n"]);return Ct=function(){return e},e}P.a.button(Ct());var Tt=P.a.div(It()),Rt=P.a.ul(Ft()),Bt=(Object(P.b)(St()),Object(P.b)(At())),Lt=Object(P.b)(Pt()),_t=P.a.div(wt(),(function(e){return e.clickstate?"rgba(0,0,0,.075)":"rgba(0,123,255,.25)"})),Dt=P.a.div(xt()),Mt=P.a.div(jt(),(function(e){return e.clickstate?Bt:Lt})),Jt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onclick=function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({clickstate:!a.state.clickstate}),e.next=3,f.a.awrap(fetch("/app").then((function(e){return e.json()})).then((function(e){return a.props.test(e[0])})));case 3:case"end":return e.stop()}}))},a.state={clickstate:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Tt,{className:"SideDiv"},r.a.createElement(Mt,{style:{opacity:.5},clickstate:this.state.clickstate},r.a.createElement(Dt,null,this.props.testOBJ.blog),this.state.clickstate?r.a.createElement(Rt,null,this.props.record?Object.keys(this.props.record).map((function(t,a){return r.a.createElement("li",{className:"subli",key:e.props.record[t].id},r.a.createElement("span",{className:"subtitle",style:{cursor:"pointer"},id:e.props.record[t].id,onClick:function(a){return e.props.pointer(e.props.record[t])}},e.props.record[t].name),r.a.createElement("div",{style:{width:"25px",display:"inline-block",float:"right"}},r.a.createElement(ee,{className:"OpenButton",onClick:function(a){return e.props.ulonclick(t)}},"O")))})):"this.props.record.map"):""),r.a.createElement(_t,{clickstate:this.state.clickstate},this.state.clickstate?r.a.createElement(gt,{onClick:this.onclick,className:"App-minus"}):r.a.createElement(kt,{onClick:this.onclick,className:"App-minus"})))}}]),t}(n.Component),Wt=Object(x.b)((function(e){return{ulstate:e.ulstate,record:e.sfdata,testOBJ:e.test}}),(function(e){return{ulonclick:function(t){e(function(e){return{type:"ulonclick",id:e}}(t))},pointer:function(t){e(function(e){return{type:"pointer",data:e}}(t))},test:function(t){e(function(e){return{type:"test",testi:e}}(t))}}}))(Jt),Nt=Object(tt.b)(ct,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Gt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(x.a,{store:Nt},r.a.createElement("div",null,r.a.createElement(et,null),r.a.createElement(De,null),r.a.createElement(Wt,null),r.a.createElement(Ge,null),r.a.createElement(ze,null),r.a.createElement(Ee,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(311);l.a.render(r.a.createElement(Gt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[156,1,2]]]);
//# sourceMappingURL=main.62743249.chunk.js.map