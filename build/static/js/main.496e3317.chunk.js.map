{"version":3,"sources":["config/config.js","actions/index.js","icon/photo.svg","icon/marker.svg","icon/upload.svg","icon/blog.svg","component/popupform.js","component/GoogleSearchPopup.js","component/main.js","component/toolbar.js","component/featuremodal.js","component/blogmodal.js","reducers/MainReducer.js","reducers/ApiReducer.js","reducers/index.js","icon/arrowLeft.svg","icon/arrowRight.svg","component/sidebar.js","App.js","serviceWorker.js","index.js"],"names":["firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","databaseRef","ref","modalstate","doc","child","mstate","type","blogmodalstate","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","_ref3","id","d","_ref4","className","height","width","_ref","svgRef","title","props","viewBox","ForwardRef","forwardRef","styled","input","PFrame","div","PopupForm","state","imagePreviewUrl","photoUpload","e","preventDefault","reader","FileReader","file","files","onloadend","handlePhoto","setState","result","readAsDataURL","handleSubmit","fdata","Popup","autoPan","onSubmit","hhandleSubmit","name","placeholder","value","onChange","handleName","style","padding","address","handleAddress","remark","handleRemark","htmlFor","marginLeft","marginRight","display","src","float","cursor","onClick","position","Component","connect","LayerId","ulstate","Math","round","lat","lng","sfdata","pointerToPopup","dispatch","handleCoordinate","coordinate","photo","data","mboolean","Button","button","GooglePopupForm","GoogleSearchMarker","formatted_address","GoogleMarkerToLayer","marker","Main","CaculateBoundsToCenter","layer","bounds","_latlngs","PopupOpenWhenCreated","PopupOpenWhenCreatedAction","_onCreated","layerType","zoom","getBounds","getMapZoom","console","log","DispatchAddCircle","setTimeout","center","PopupOpenWhenCreatedActionForRectangle","DispatchAddPolyline","DispatchAddPolygon","DispatchAddRectangle","_onEditPath","EditFeature","layers","_onDeleted","DeleteFeature","bluemarble","prevProps","PopupIdAdd","_leaflet_id","dragging","DispatchAddMarker","map","leafletElement","getZoom","status","Marker","GoogleSearchPosition","opacity","openPopup","boolean","onEdited","onCreated","onDeleted","draw","rectangle","circlemarker","TileLayer","attribution","url","googlekey","maptype","tilematrixSet","format","transparent","TF","po","Map","zoomControl","zIndex","mapcursor","reff","LayerSwitch","FeatureGroup","getFeatureID","onlayeradd","layeradd","onPopupClose","removePopup","ToolStateSwitch","toolsta","MarkersPosition","idx","GoogleSearchStatus","inputText","functiontype","removeLi","ID","getmoveend","latlng","SearchBar","ToolBarOutline","ToolBarMaterial","LayerList","ToolBar","text","Geocode","setApiKey","enableDebug","fromAddress","then","response","results","Geo","error","alert","event","AupdateInputText","geoFirist","AhandleChange","handleChange","todo","index","toolstate","updateInputText","onKeyPress","cursortype","sboolean","Featuremodal","Modal","show","mmodalstate","onHide","Header","closeButton","Title","Body","Form","Group","controlId","Text","Label","Control","Footer","variant","Blogmodal","bblogmodalstate","blog","handleBlog","form","bloghandleSubmit","initState","viewcenter","createPo","OpenOrClose","promiseaddress","clickFeatureID","MainR","action","geometry","location","idd","submitState","produce","draftState","blogid","blogsubmitState","clearsubmitState","cleanPopstate","openPopstate","deltaA","TypeOfPoint","coor","PopupOpen","_latlng","PopupOpenRec","Markerid","MarkernewLayer","layertype","rectangleid","rectanglenewLayer","rectanglebounds","_bounds","xposition","_northEast","_southWest","yposition","Polygonid","PolygonnewLayer","polygonbounds","xxposition","yyposition","Polylineid","PolylinenewLayer","LineBounds","linex","liney","Circleid","CirclenewLayer","Feature","_layers","EditState","editlayer","Bounds","x","y","DFeature","DeleteState","apiR","allReducers","reduceReducers","SideDiv","Ful","ul","SlideFromLtoR","keyframes","SlideFromRtoL","Icondiv","clickstate","Sbar","SideBar","onclick","record","pointer","ulonclick","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","App","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.496e3317.chunk.js","sourcesContent":["import * as firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAaJRAXIpk4_xAt3ZNL1hgaIomltO4XF-U\",\r\n  authDomain: \"api-project-753794405349.firebaseapp.com\",\r\n  databaseURL: \"https://api-project-753794405349.firebaseio.com\",\r\n  projectId: \"api-project-753794405349\",\r\n  storageBucket: \"\",\r\n  messagingSenderId: \"753794405349\",\r\n  appId: \"1:753794405349:web:96e6c32e1db2d99e\",\r\n  measurementId: \"G-CE47ZZWRXR\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst databaseRef = firebase.database().ref();\r\nexport const firestore = firebase.firestore();\r\nexport const docRef = firestore.doc(\"test/points\")\r\nexport const pointsRef = databaseRef.child(\"points\")","import {pointsRef, firestore} from '../config/config'\r\n\r\n\r\nexport const Geo = (inputText) =>{\r\n    return{\r\n        type:'Geo',\r\n        inputText,\r\n        \r\n    }\r\n}\r\n\r\nexport const AhandleChange = (LayerId) => {\r\n    return{\r\n        type:'AhandleChange',\r\n        LayerId\r\n    }\r\n  }\r\nexport const AupdateInputText=(inputText) => {\r\n    return{\r\n        type:'AupdateInputText',\r\n        inputText\r\n    }\r\n}\r\n\r\nexport const handleName = (name) => {\r\n    return{\r\n        type:'handleName',\r\n        name\r\n    }\r\n}\r\n\r\nexport const handleAddress = (address) => {\r\n    return{\r\n        type:'handleAddress',\r\n        address\r\n    }\r\n}\r\n\r\nexport const handleCoordinate = (coordinate) => {\r\n    return{\r\n        type:'handleCoordinate',\r\n        coordinate\r\n    }\r\n}\r\n\r\nexport const handlePhoto = (photo) => {\r\n    return{\r\n        type:'handlePhoto',\r\n        photo\r\n    }\r\n}\r\n\r\nexport const handleRemark = (remark) => {\r\n    return{\r\n        type:'handleRemark',\r\n        remark\r\n    }\r\n}\r\n\r\nexport const handleSubmit = (fdata) => {\r\n    return{\r\n        type:'handleSubmit',\r\n        fdata\r\n    }\r\n}\r\n\r\nexport const AddGroupMarkers = (latlng) => {\r\n    return{\r\n        type:'AddGroupMarkers',\r\n        latlng\r\n    }\r\n}\r\n\r\nexport const ulonclick = (id) => {\r\n    return{\r\n        type:'ulonclick',\r\n        id\r\n    }\r\n}\r\n\r\nexport const getmoveend = e => {\r\n    return{\r\n        type:\"getmoveend\",\r\n        e\r\n    }\r\n}\r\nexport const pointer = (data) => {\r\n    return{\r\n        type:'pointer',\r\n        data\r\n    }\r\n}\r\n\r\nexport const removeLi = (layer) => {\r\n    return{\r\n        type: 'removeLi',\r\n        layer\r\n    }\r\n}\r\n\r\nexport const mapcursor = (cursortype) => {\r\n    return{\r\n        type: 'mapcursor',\r\n        cursortype\r\n    }\r\n}\r\n\r\nexport const toolstate = (toolstate) => {\r\n    return{\r\n        type: 'toolstate',\r\n        toolstate\r\n    }\r\n}\r\nexport const removePopup = (latlng) => {\r\n    return{\r\n        type: 'removePopup',\r\n        latlng,\r\n        \r\n    }\r\n}\r\n\r\nexport const openPopup = (latlng) => {\r\n    return{\r\n        type: 'openPopup',\r\n        latlng,\r\n        \r\n    }\r\n}\r\nexport const PopupIdAdd = (id) => {\r\n    return {\r\n        type: 'PopupIdAdd',\r\n        id,\r\n    }\r\n}\r\n\r\nexport const PopupOpenWhenCreatedAction = (layer) => {\r\n    return {\r\n        type: 'PopupOpenWhenCreatedAction',\r\n        layer,\r\n    }\r\n}\r\nexport const PopupOpenWhenCreatedActionForRectangle = (center) => {\r\n    return {\r\n        type: 'PopupOpenWhenCreatedActionForRectangle',\r\n        center,\r\n    }\r\n}\r\n//加入圖層 \r\nexport const DispatchAddMarker = (layer,bounds) => {\r\n    //console.log(layer)\r\n    //path.join(path_a, path_b)\r\n    /*let path = \"points/\"+layer._leaflet_id\r\n    \r\n    firestore.doc(path).set({coordinate:[layer._latlng.lng,layer._latlng.lat],type:\"marker\"}).then(()=>{\r\n        console.log('save')\r\n    }).catch(error=>{\r\n        console.log(error)\r\n    })*/\r\n    return{\r\n        type: 'DispatchAddMarker',\r\n        layer,\r\n        bounds,\r\n        \r\n    }\r\n}\r\nexport const DispatchAddCircle = (layer,zoom) => {\r\n    return{\r\n        type: 'DispatchAddCircle',\r\n        layer,\r\n        zoom,\r\n        \r\n    }\r\n}\r\n\r\nexport const DispatchAddRectangle = (layer,zoom) => {\r\n    return{\r\n        type: 'DispatchAddRectangle',\r\n        layer,\r\n        zoom\r\n    }\r\n}\r\n\r\nexport const DispatchAddPolyline = (layer,zoom) => {\r\n    return{\r\n        type: 'DispatchAddPolyline',\r\n        layer,\r\n        zoom\r\n    }\r\n}\r\n\r\nexport const DispatchAddPolygon = (layer,zoom) => {\r\n    return{\r\n        type: 'DispatchAddPolygon',\r\n        layer,\r\n        zoom\r\n    }\r\n}\r\n\r\nexport const GoogleMarkerToLayer = (marker) => {\r\n    return{\r\n        type: 'GoogleMarkerToLayer',\r\n        marker,\r\n    }\r\n}\r\n\r\n//修改圖層\r\nexport const EditFeature = (layer,zoom) => {\r\n    return{\r\n        type: 'EditFeature',\r\n        layer,\r\n        zoom\r\n    }\r\n}\r\n\r\n//刪除圖層\r\n\r\nexport const DeleteFeature = (layer,zoom) => {\r\n    return{\r\n        type: 'DeleteFeature',\r\n        layer,\r\n        zoom\r\n    }\r\n}\r\nexport const getFeatureID = (id) => {\r\n    return{\r\n        type: 'getFeatureID',\r\n        id\r\n    }\r\n}\r\n\r\n//API Async\r\n\r\nexport const addToDo = newToDo => async dispatch => {\r\n   pointsRef.push().set(newToDo);\r\n};\r\nexport const completeToDo = completeToDo => async dispatch => {\r\n   pointsRef.child(completeToDo).remove();\r\n};\r\nexport const fetchToDos = () => async dispatch => {\r\n   pointsRef.on(\"value\", snapshot => {\r\n    dispatch({\r\n      type: 'FETCH_TODOS',\r\n      payload: snapshot.val()\r\n    });\r\n  });\r\n};\r\n\r\n//madalactions \r\n\r\nexport const modalstate = mstate => {\r\n    return{\r\n        type: \"modalstate\",\r\n        mstate\r\n    }\r\n}\r\n\r\nexport const blogmodalstate = mstate => {\r\n    return{\r\n        type: \"blogmodalstate\",\r\n        mstate\r\n    }\r\n}\r\n\r\nexport const handleBlog = blog =>{\r\n    return{\r\n        type: \"handleBlog\",\r\n        blog,\r\n    }\r\n}\r\n\r\nexport const bloghandleSubmit = blog =>{\r\n    return{\r\n        type: \"bloghandleSubmit\",\r\n        blog,\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \".cls-1{fill:none;}\"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  \"data-name\": \"Layer 2\",\n  id: \"Layer_2\"\n}, React.createElement(\"path\", {\n  d: \"M26,27H6a3,3,0,0,1-3-3V8A3,3,0,0,1,6,5H26a3,3,0,0,1,3,3V24A3,3,0,0,1,26,27ZM6,7A1,1,0,0,0,5,8V24a1,1,0,0,0,1,1H26a1,1,0,0,0,1-1V8a1,1,0,0,0-1-1Z\"\n}), React.createElement(\"path\", {\n  d: \"M21,15a3,3,0,1,1,3-3A3,3,0,0,1,21,15Zm0-4a1,1,0,1,0,1,1A1,1,0,0,0,21,11Z\"\n}), React.createElement(\"path\", {\n  d: \"M26,27a1,1,0,0,1-.83-.45l-4.34-6.5a1,1,0,0,0-1.66,0l-.34.5a1,1,0,0,1-1.66-1.1l.33-.51a3,3,0,0,1,5,0l4.33,6.51a1,1,0,0,1-.28,1.38A.94.94,0,0,1,26,27Z\"\n}), React.createElement(\"path\", {\n  d: \"M6,27a1,1,0,0,1-.54-.16,1,1,0,0,1-.3-1.38l6.23-9.62a3,3,0,0,1,2.5-1.37h0a3,3,0,0,1,2.5,1.34l6.42,9.64a1,1,0,0,1-1.66,1.1l-6.43-9.63a1,1,0,0,0-.83-.45h0a1,1,0,0,0-.83.46L6.84,26.54A1,1,0,0,1,6,27Z\"\n}));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"frame\"\n}, React.createElement(\"rect\", {\n  className: \"cls-1\",\n  height: 32,\n  width: 32\n}));\n\nvar SvgPhoto = function SvgPhoto(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    ref: svgRef\n  }, props), _ref2, title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPhoto, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/photo.c8dba197.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \".cls-1{fill:none;}\"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  \"data-name\": \"Layer 2\",\n  id: \"Layer_2\"\n}, React.createElement(\"path\", {\n  d: \"M16,29a1,1,0,0,1-.71-.29l-7.07-7a10.91,10.91,0,0,1,0-15.48,11.07,11.07,0,0,1,15.56,0,10.91,10.91,0,0,1,0,15.48l-7.07,7A1,1,0,0,1,16,29ZM16,5A9,9,0,0,0,9.63,7.62h0a8.91,8.91,0,0,0,0,12.64L16,26.59l6.37-6.33a8.91,8.91,0,0,0,0-12.64A9,9,0,0,0,16,5ZM8.93,6.91h0Z\"\n}), React.createElement(\"path\", {\n  d: \"M16,19a5,5,0,1,1,5-5A5,5,0,0,1,16,19Zm0-8a3,3,0,1,0,3,3A3,3,0,0,0,16,11Z\"\n}));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"frame\"\n}, React.createElement(\"rect\", {\n  className: \"cls-1\",\n  height: 32,\n  width: 32\n}));\n\nvar SvgMarker = function SvgMarker(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    ref: svgRef\n  }, props), _ref2, title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgMarker, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/marker.1621cf60.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \".cls-1{fill:none;}\"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  \"data-name\": \"Layer 2\",\n  id: \"Layer_2\"\n}, React.createElement(\"path\", {\n  d: \"M25,14a1,1,0,0,1-.71-.29L16,5.41l-8.29,8.3a1,1,0,0,1-1.42-1.42l9-9a1,1,0,0,1,1.42,0l9,9a1,1,0,0,1,0,1.42A1,1,0,0,1,25,14Z\"\n}), React.createElement(\"path\", {\n  d: \"M16,29a1,1,0,0,1-1-1V4a1,1,0,0,1,2,0V28A1,1,0,0,1,16,29Z\"\n}));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"frame\"\n}, React.createElement(\"rect\", {\n  className: \"cls-1\",\n  height: 32,\n  width: 32\n}));\n\nvar SvgUpload = function SvgUpload(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    ref: svgRef\n  }, props), _ref2, title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgUpload, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/upload.96a172cd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \".cls-1{fill:none;}\"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  \"data-name\": \"Layer 2\",\n  id: \"Layer_2\"\n}, React.createElement(\"path\", {\n  d: \"M27,29H9a1,1,0,0,1-1-1V16a1,1,0,0,1,2,0V27H26V6a1,1,0,0,0-1-1H7A1,1,0,0,1,7,3H25a3,3,0,0,1,3,3V28A1,1,0,0,1,27,29Z\"\n}), React.createElement(\"path\", {\n  d: \"M9,17H5a1,1,0,0,1-1-1V6a3,3,0,0,1,6,0V16A1,1,0,0,1,9,17ZM6,15H8V6A1,1,0,0,0,6,6Z\"\n}), React.createElement(\"path\", {\n  d: \"M19,19H13a1,1,0,0,1,0-2h6a1,1,0,0,1,0,2Z\"\n}), React.createElement(\"path\", {\n  d: \"M23,23H13a1,1,0,0,1,0-2H23a1,1,0,0,1,0,2Z\"\n}), React.createElement(\"path\", {\n  d: \"M21,15H13a1,1,0,0,1,0-2h8a1,1,0,0,1,0,2Z\"\n}), React.createElement(\"path\", {\n  d: \"M23,8H13a1,1,0,0,1-1-1V4a1,1,0,0,1,1-1H23a1,1,0,0,1,1,1V7A1,1,0,0,1,23,8ZM14,6h8V5H14Z\"\n}));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"frame\"\n}, React.createElement(\"rect\", {\n  className: \"cls-1\",\n  height: 32,\n  width: 32\n}));\n\nvar SvgBlog = function SvgBlog(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    ref: svgRef\n  }, props), _ref2, title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBlog, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/blog.700c17ea.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\r\nimport {Popup } from \"react-leaflet\";\r\nimport styled from 'styled-components'\r\nimport { blogmodalstate, handleName, handleAddress, handleCoordinate, handlePhoto, handleRemark, handleSubmit} from '../actions/index'\r\nimport { connect } from \"react-redux\";\r\nimport { ReactComponent as Photo } from '../icon/photo.svg'\r\nimport { ReactComponent as Markericon } from '../icon/marker.svg'\r\nimport { ReactComponent as Upload } from '../icon/upload.svg'\r\nimport { ReactComponent as Blog } from '../icon/blog.svg'\r\n\r\nconst photostyle = {\r\n    display: 'inline-block',\r\n    width: '20px',\r\n    height: '20px',\r\n    backgroundColor: '#EEAA11',\r\n  }\r\nconst Button = styled.input`\r\n    background: #666666;\r\n    float: right;\r\n`\r\nconst PFrame = styled.div`    \r\n    background: #FFFFFF;\r\n    width: 300px;\r\n    \r\n\r\n`\r\n\r\nclass PopupForm extends Component {\r\n\r\n    state = {\r\n        imagePreviewUrl:\"\",\r\n    }\r\nhhandleSubmit (e) {\r\n    e.preventDefault();\r\n    //console.log(typeof(this.props.fdata.id))\r\n    this.props.handleSubmit(this.props.fdata)\r\n    \r\n    //console.log(this.props.fdata,this.props.sfdata)\r\n    \r\n}   \r\n    \r\nphotoUpload = e =>{\r\n    e.preventDefault();\r\n    const reader = new FileReader();\r\n    const file = e.target.files[0];\r\n    if(file){\r\n        reader.onloadend = () => {\r\n            this.props.handlePhoto(file)\r\n          this.setState({\r\n\r\n            imagePreviewUrl: reader.result\r\n          });\r\n        }\r\n        reader.readAsDataURL(file);\r\n    }\r\n}    \r\n\r\n    render() {\r\n        //console.log(this.props.position)\r\n        return(\r\n            <Popup autoPan ={false}>\r\n                \r\n                <PFrame> \r\n                <form onSubmit={e=>this.hhandleSubmit(e)}>    \r\n                    <label >\r\n                        \r\n                        <input\r\n                        name=\"name\"\r\n                        type=\"text\"\r\n                        placeholder=\"請輸入地點名稱\"\r\n                        value={this.props.fdata.name||\"\"}\r\n                        onChange={this.props.handleName} \r\n                        style ={{ width:'280px', padding:'0'}}\r\n                        />\r\n                    </label>\r\n                    <br/>\r\n                    <label>\r\n                        \r\n                        <input\r\n                        name=\"address\"\r\n                        type=\"text\"\r\n                        placeholder=\"請輸入地址\"\r\n                        value={this.props.fdata.address||\"\"}\r\n                        onChange={this.props.handleAddress} \r\n                        style ={{ width:'280px', padding:'0'}}\r\n                        />\r\n                    </label>\r\n                    <br />\r\n                    \r\n                    <label>\r\n                        \r\n                        <input \r\n                            name=\"remark\"\r\n                            type=\"text\"\r\n                            value={this.props.fdata.remark}\r\n                            onChange={this.props.handleRemark}\r\n                            placeholder=\"備註\"\r\n                            style ={{height:'30px', width:'280px', padding:'0'}}\r\n                            />\r\n                    </label>\r\n                    <br />\r\n                    <label htmlFor=\"photo-upload\" style={{ width:'50%',marginLeft: 'auto', marginRight: 'auto', display:'block'}} >\r\n                        <div className=\"img-wrap img-upload\"  >\r\n                            \r\n                          <img  src={this.state.imagePreviewUrl} style={{ width:'50%',marginLeft: 'auto', marginRight: 'auto', display:'block'}}/>\r\n                        </div>\r\n                        <input id=\"photo-upload\" type=\"file\" onChange={this.photoUpload} style ={{display:'none'}}/> \r\n                    </label>\r\n                    <br />\r\n                    <ul style={{padding :'0' , float:'right'}}>\r\n                        <label htmlFor=\"photo-upload\" style={{cursor:'pointer',}} >\r\n                            <Photo  width={25} ></Photo>\r\n                        </label>\r\n                        <label style={{cursor:'pointer',}}>\r\n                            <Blog width={25} onClick ={this.props.blogmodalstate}></Blog>\r\n                        </label>\r\n                        <Upload width={25} style={{cursor:'pointer', float:'right'}}  onClick={e=>this.hhandleSubmit(e)} />\r\n                    </ul>    \r\n                    \r\n                    <ul style={{padding :'0'}}>\r\n                        <Markericon style={{float:'left'}} width={25} htmlFor =\"\" /> \r\n                        <span >{this.props.position[0]},{this.props.position[1]}</span>\r\n                    </ul>\r\n                </form>\r\n                </PFrame>\r\n            \r\n            </Popup>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        fdata: state.fdata,\r\n        LayerId: state.LayerId,\r\n        ulstate: state.ulstate,\r\n        position:[Math.round(state.lat*10000)/10000,Math.round(state.lng*10000)/10000],\r\n        sfdata: state.sfdata,\r\n        \r\n        pointerToPopup: state.pointerToPopup,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        handleName: e => {\r\n            dispatch(handleName(e.target.value))\r\n        },\r\n        handleAddress: e => {\r\n            dispatch(handleAddress(e.target.value))\r\n        },\r\n        handleCoordinate: e => {\r\n            dispatch(handleCoordinate(e.target.value))\r\n        },\r\n        handlePhoto: file => {\r\n            dispatch(handlePhoto(file))\r\n        },\r\n        handleRemark: e => {\r\n            dispatch(handleRemark(e.target.value))\r\n        },\r\n        handleSubmit: data =>{\r\n            dispatch(handleSubmit(data))\r\n        },\r\n        blogmodalstate:mboolean =>{\r\n            dispatch(blogmodalstate(mboolean))\r\n        },\r\n        \r\n        \r\n        \r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PopupForm)","import React, { Component } from 'react';\r\nimport {Popup } from \"react-leaflet\";\r\nimport styled from 'styled-components'\r\nimport {GoogleMarkerToLayer} from '../actions/index'\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Button = styled.button`\r\ncolor: tomato;\r\nbackground: #666666;\r\nfloat: right;\r\n`\r\nconst PFrame = styled.div`\r\n\r\n    \r\n    background: #FFFFFF;\r\n    \r\n\r\n`\r\n\r\nclass GooglePopupForm extends Component {\r\n\r\n\r\n\r\n    \r\n    \r\n\r\n    render() {\r\n        \r\n        return(\r\n            <Popup >\r\n                \r\n                <PFrame> \r\n                  \r\n                    <span>{this.props.GoogleSearchMarker.value.formatted_address}</span>\r\n                        \r\n                        \r\n                    \r\n                    <br/>\r\n\r\n                    <span>\r\n                        {this.props.GoogleSearchMarker.position}\r\n                        \r\n                    </span>\r\n                    <Button type=\"submit\"  onClick= {e=>this.props.GoogleMarkerToLayer(e)}>加入圖層</Button>\r\n                \r\n                </PFrame>\r\n            \r\n            </Popup>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        fdata: state.fdata,\r\n        LayerId: state.LayerId,\r\n        ulstate: state.ulstate,\r\n        position:[Math.round(state.lat*10000)/10000,Math.round(state.lng*10000)/10000],\r\n        GoogleSearchMarker:state.GoogleSearchMarker,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        \r\n        GoogleMarkerToLayer: marker =>{\r\n            dispatch(GoogleMarkerToLayer(marker))\r\n        },\r\n        \r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GooglePopupForm)","import React, { Component,useEffect  } from 'react';\r\nimport {GoogleLayer} from 'react-leaflet-google';\r\nimport { Map, TileLayer, Marker,FeatureGroup, Popup} from 'react-leaflet';\r\nimport WMTSTileLayer from 'react-leaflet-wmts';\r\nimport {PopupIdAdd, PopupOpenWhenCreatedActionForRectangle, PopupOpenWhenCreatedAction, removePopup, getmoveend, DispatchAddMarker, DispatchAddCircle, DispatchAddPolyline, DispatchAddPolygon, DispatchAddRectangle, EditFeature, removeLi, DeleteFeature, getFeatureID,} from '../actions/index';\r\nimport { connect  } from \"react-redux\";\r\nimport  PopupForm  from './popupform';\r\nimport GooglePopupForm from './GoogleSearchPopup';\r\nimport { EditControl } from \"react-leaflet-draw\";\r\nimport * as filelayer from 'leaflet-filelayer'\r\nimport L from 'leaflet'\r\nimport { exportDefaultSpecifier } from '@babel/types';\r\nimport styled from 'styled-components'\r\n\r\n\r\n\r\nconst photostyle = {\r\n  display: 'inline-block',\r\n  width: '20px',\r\n  height: '20px',\r\n  backgroundColor: '#EEAA11',\r\n}\r\nconst Button = styled.input`\r\nbackground: #666666;\r\nfloat: right;\r\n`\r\nconst PFrame = styled.div`\r\n\r\n  \r\n  background: #FFFFFF;\r\n  \r\n\r\n`\r\n\r\n\r\nconst key = 'AIzaSyB-DzlaXFMDeKrnNKs_EzP27BTnqZ5BfiE'\r\n\r\n\r\n\r\n\r\nclass Main extends Component {\r\n    constructor() {\r\n      super()\r\n      this.state={\r\n        bluemarble: false,\r\n        \r\n      }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n      // Typical usage (don't forget to compare props):\r\n      /*console.log(prevProps.pointerToPopup.TF,this.props.pointerToPopup.TF)\r\n      console.log(prevProps.pointerToPopup.po,this.props.pointerToPopup.po)\r\n      console.log(prevProps.pointerToPopup.type,this.props.pointerToPopup.type)\r\n      if(this.props.pointerToPopup.type === \"circle\" && prevProps.pointerToPopup.type === \"circle\") {\r\n        console.log(1)\r\n        this.props.getmoveend(12)\r\n      }*/\r\n    }\r\n    \r\n    \r\n    layeradd (e) {\r\n      console.log(e.layer)\r\n      let bounds = e.target.getBounds()\r\n      let zoom = this.getMapZoom()\r\n      this.props.PopupIdAdd(e.layer._leaflet_id)\r\n      if(e.layer.dragging){\r\n        //console.log('true')\r\n        this.PopupOpenWhenCreated(e.layer)\r\n        this.props.DispatchAddMarker(e.layer,zoom)\r\n      }\r\n      \r\n\r\n    }\r\n    \r\n      \r\n      \r\n    \r\n    getMapZoom() {\r\n      return this.map && this.map.leafletElement.getZoom();\r\n   }\r\n\r\n    getBounds() {\r\n      if(typeof(this.props.bounds) === \"object\"){\r\n        return this.props.bounds\r\n      }\r\n    }\r\n\r\n    GoogleSearchMarker (status) {\r\n      //console.log(this.props.GoogleSearchStatus,status)\r\n      if(status == 'OK'){\r\n        return(\r\n          <Marker position={this.props.GoogleSearchPosition} opacity = {1} ref ={ref=>{if(ref){ref.leafletElement.openPopup();} }}>\r\n            <GooglePopupForm/>\r\n          </Marker>\r\n        )\r\n      }\r\n    }\r\n    ToolStateSwitch(boolean) {\r\n      \r\n      if(boolean === true){\r\n        return(\r\n          \r\n            <EditControl\r\n                position='topright'\r\n                onEdited={this._onEditPath}\r\n                onCreated={this._onCreated}\r\n                onDeleted={this._onDeleted}\r\n                draw={{\r\n                  rectangle: true,\r\n                  circlemarker: false,\r\n                  \r\n                }}\r\n                \r\n            />\r\n        )\r\n      }\r\n    }\r\n    \r\n    LayerSwitch(LayerId) {\r\n      \r\n      if (LayerId ==0) {\r\n        \r\n        return(<TileLayer\r\n            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n        )\r\n      }\r\n      else if(LayerId ==1){\r\n        \r\n        return(\r\n          <GoogleLayer googlekey={key}  maptype='HYBRID' />\r\n        )\r\n      }\r\n      else if(LayerId ==2){\r\n        \r\n        return(\r\n          <WMTSTileLayer\r\n                  url=\"https://wmts.nlsc.gov.tw/wmts\"\r\n                  layer= \"EMAP\"//layer={this.state.bluemarble ? \"EMAP\":\"LANDSECT\"}\r\n                  tilematrixSet=\"EPSG:3857\"\r\n                  format=\"image/jpeg\"\r\n                  transparent={true}\r\n                  opacity={1}       \r\n          />\r\n        )\r\n      }\r\n    }\r\n    CaculateBoundsToCenter= (layer) => {\r\n      //console.log(center)\r\n      let bounds = layer._latlngs[0]\r\n      let center = [(bounds[0].lat + bounds[1].lat + bounds[2].lat + bounds[3].lat)/4,(bounds[0].lng + bounds[1].lng + bounds[2].lng + bounds[3].lng)/4]\r\n      \r\n      return center\r\n    }\r\n    PopupOpenWhenCreated = (layer) => {\r\n      this.props.PopupOpenWhenCreatedAction(layer)\r\n      \r\n    }\r\n\r\n    _onCreated = (e) => {\r\n      let type = e.layerType;\r\n      let layer = e.layer;\r\n      let bounds = e.target.getBounds()\r\n      let zoom = this.getMapZoom()\r\n      //console.log(layer);\r\n      \r\n      if (type === 'marker') {\r\n        // Do marker specific actions\r\n        //this.props.DispatchAddMarker(layer,zoom)\r\n        //this.PopupOpenWhenCreated(layer)\r\n        console.log(\"_onCreated: marker created\", this.props.sfdata);\r\n      }\r\n      else if(type === 'circle'){\r\n        \r\n        this.props.DispatchAddCircle(layer,zoom)\r\n        setTimeout(() => { \r\n          this.PopupOpenWhenCreated(layer)\r\n        }, 100);\r\n        //this.GPXimport()\r\n        console.log(\"_onCreated: circle created\", this.props.sfdata);\r\n      }else if(type === 'polyline'){\r\n        let center = layer._latlngs[0]\r\n        this.props.PopupOpenWhenCreatedActionForRectangle(center)\r\n        this.props.DispatchAddPolyline(layer,zoom)\r\n        console.log(\"_onCreated: polyline created\", this.props.sfdata);\r\n      }else if(type === 'polygon'){\r\n        let center = this.CaculateBoundsToCenter(layer)\r\n        setTimeout(() => { \r\n          this.props.PopupOpenWhenCreatedActionForRectangle(center)\r\n        }, 100);\r\n        this.props.DispatchAddPolygon(layer,zoom)\r\n        console.log(\"_onCreated: polygon created\", this.props.sfdata);\r\n      }else if(type === 'rectangle'){\r\n        let center = this.CaculateBoundsToCenter(layer)\r\n        setTimeout(() => {\r\n          \r\n          this.props.PopupOpenWhenCreatedActionForRectangle(center)\r\n        }, 100);\r\n        \r\n        this.props.DispatchAddRectangle(layer,zoom)\r\n        console.log(\"_onCreated: rectangle created\", this.props.sfdata);\r\n      }\r\n      \r\n      //console.log(e.layer);\r\n      //console.log(e.layer._leaflet_id);\r\n    }\r\n    _onEditPath =(e) => {\r\n      //console.log(e)\r\n      let zoom = this.getMapZoom()\r\n      this.props.EditFeature(e.layers,zoom)\r\n\r\n      //console.log(this.props.sfdata)\r\n    }\r\n    _onDeleted =(e) => {\r\n      console.log(e)\r\n      \r\n      this.props.DeleteFeature(e.layers)\r\n      //console.log(this.props.sfdata)\r\n    }\r\n\r\n    showthepopup (ref) {\r\n      console.log(this.props.pointerToPopup.TF )\r\n      if(ref && this.props.pointerToPopup.TF) {\r\n        ref.leafletElement.openPopup(this.props.pointerToPopup.po)    \r\n      }\r\n  \r\n    }\r\n\r\n    render() {\r\n      \r\n      \r\n      //console.log([this.props.lat, this.props.lng])\r\n      return (\r\n        \r\n        <Map center={[this.props.lat, this.props.lng]} \r\n             zoom={this.props.zoom}  \r\n             zoomControl = {false} \r\n             style={{zIndex:1,cursor: this.props.mapcursor}} \r\n             ref={(reff) => { this.map = reff; }} \r\n             //useFlyTo = {true}\r\n             //bounds ={this.getBounds()}\r\n             //onmoveend={e=>this.props.getmoveend(e)}\r\n             //onViewportChanged = {e=>this.props.getmoveend(e)}\r\n             //onClick = {(e) => {this.props.removePopup(e);}}\r\n             //onPreclick = {(e) => {this.props.removePopup(this.map.leafletElement.getCenter());}}\r\n             >\r\n          \r\n          {this.LayerSwitch(this.props.LayerId)}\r\n          <FeatureGroup  onClick ={(e)=>this.props.getFeatureID(e.layer._leaflet_id)} \r\n                         onlayeradd ={(e)=>this.layeradd(e)} \r\n                         ref={ref=>{if(ref&& this.props.pointerToPopup.TF){console.log(55688);ref.leafletElement.openPopup(this.props.pointerToPopup.po);}}} \r\n                         onPopupClose = {e => {console.log(123);this.props.removePopup(e)}}\r\n                         >\r\n            {this.ToolStateSwitch(this.props.toolsta)}\r\n            \r\n            \r\n            {Object.keys(this.props.MarkersPosition).map((id,idx) =>{\r\n              //console.log(this.props.MarkersPosition,id);\r\n              \r\n              return ( \r\n              <Marker key ={id} position={this.props.MarkersPosition[id]} opacity = {0.9} >\r\n                \r\n              </Marker>\r\n              )\r\n            \r\n            })}\r\n            <PopupForm/>\r\n          </FeatureGroup>\r\n          {this.GoogleSearchMarker(this.props.GoogleSearchStatus)}\r\n          \r\n          \r\n          \r\n        </Map>\r\n      )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n      return {\r\n          inputText: state.inputText,\r\n          LayerId: state.LayerId,\r\n          lat: state.lat,\r\n          lng: state.lng,\r\n          zoom: state.zoom,\r\n          bounds: state.bounds,\r\n          MarkersPosition: state.MarkersPosition,\r\n          mapcursor: state.mapcursor,\r\n          functiontype: state.functiontype,\r\n          toolsta: state.toolsta,\r\n          GoogleSearchStatus: state.GoogleSearchMarker.status,\r\n          GoogleSearchPosition: state.GoogleSearchMarker.position,\r\n          sfdata: state.sfdata,\r\n          pointerToPopup: state.pointerToPopup,\r\n          //position:[Math.round(state.lat*10000)/10000,Math.round(state.lng*10000)/10000],\r\n          \r\n          \r\n\r\n    \r\n      }\r\n  }\r\n  \r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    DispatchAddMarker: (layer,bounds) =>{\r\n      dispatch(DispatchAddMarker(layer,bounds))\r\n    },\r\n    DispatchAddCircle: (layer,bounds) =>{\r\n      dispatch(DispatchAddCircle(layer,bounds))\r\n    },\r\n    DispatchAddRectangle: (layer,bounds) =>{\r\n      dispatch(DispatchAddRectangle(layer,bounds))\r\n    },\r\n    DispatchAddPolygon: (layer,bounds) =>{\r\n      dispatch(DispatchAddPolygon(layer,bounds))\r\n    },\r\n    DispatchAddPolyline: (layer,bounds) =>{\r\n      dispatch(DispatchAddPolyline(layer,bounds))\r\n    },\r\n    removeLi: layer => {\r\n      dispatch(removeLi(layer))\r\n    },\r\n    EditFeature: (layer,zoom) => {\r\n      dispatch(EditFeature(layer,zoom))\r\n    },\r\n    DeleteFeature: (layer) => {\r\n      dispatch(DeleteFeature(layer))\r\n    },\r\n    getFeatureID: (ID) => {\r\n      dispatch(getFeatureID(ID))\r\n    },\r\n    getmoveend:(e) => {\r\n      dispatch(getmoveend(e))\r\n    },\r\n    removePopup:(latlng) => {\r\n      dispatch(removePopup(latlng))\r\n    },\r\n    PopupOpenWhenCreatedAction:(layer) => {\r\n      dispatch(PopupOpenWhenCreatedAction(layer))\r\n    },\r\n    PopupOpenWhenCreatedActionForRectangle:(center) => {\r\n      dispatch(PopupOpenWhenCreatedActionForRectangle(center))\r\n    },PopupIdAdd:(id) =>{\r\n      dispatch(PopupIdAdd(id))\r\n    }\r\n    \r\n\r\n    \r\n    \r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Main)","import React, { Component } from 'react'\r\nimport styled  from 'styled-components'\r\nimport Geocode  from 'react-geocode'\r\nimport {modalstate, Geo, AupdateInputText, AhandleChange, mapcursor, toolstate} from '../actions/index'\r\nimport { connect } from \"react-redux\";\r\n\r\nconst SearchBar = styled.div`\r\nheight: 100%;\r\nfloat: right;\r\ndisplay: block;\r\nmargin-left: auto;\r\nbackground: black;\r\ncolor: white;\r\ninput {\r\n    height: 20px;\r\n    margin: 4px;\r\n}\r\n`\r\nconst ToolBarOutline = styled.div`\r\nwidth: 100%;\r\nheight: 34px;\r\nbackground: black;\r\nposition: relative;\r\ncolor: white;\r\nselect {\r\n    height: 20px;\r\n    margin: 7px;\r\n    float:left;\r\n}\r\n`\r\nconst ToolBarMaterial = styled.div`\r\nwidth: 200px;\r\nheight: 29px;\r\nfloat: left;\r\n\r\ntop: 0px;\r\nbackground: black;\r\ncolor: white;\r\nmargin-top: 5px;\r\n.point {\r\n    margin:4px;\r\n    float:left;\r\n    cursor:pointer;\r\n}\r\n.importfile {\r\n    margin:4px;\r\n    float:left;\r\n    cursor:pointer;\r\n}\r\n\r\n`\r\n\r\nconst LayerList = [\r\n    { id:0, name:'OSM', url:''},\r\n    { id:1, name:'google', url:''},\r\n    { id:2, name:'hybird', url:''},\r\n]\r\n\r\nconst key = 'AIzaSyB-DzlaXFMDeKrnNKs_EzP27BTnqZ5BfiE'\r\n\r\n\r\n\r\nclass ToolBar extends Component {\r\n    \r\n    geoFirist(text) {\r\n    Geocode.setApiKey(key)\r\n    // Enable or disable logs. Its optional.\r\n    Geocode.enableDebug()\r\n    // Get latidude & longitude from address.\r\n    Geocode.fromAddress(text).then(\r\n        response => {\r\n\r\n            const address = response.results[0];\r\n            console.log(address)\r\n            this.props.Geo(address)\r\n          \r\n          \r\n        },\r\n        error => {\r\n          console.error(error);\r\n          alert(\"查不到該點位\")\r\n        }\r\n    )\r\n    }\r\n    updateInputText(event) {\r\n        let text = event.target.value\r\n        this.props.AupdateInputText(text)\r\n        \r\n        if(event.key === 'Enter'){\r\n            \r\n            this.geoFirist(text);\r\n        }\r\n        \r\n      }\r\n\r\n    handleChange(event) {\r\n      let id = event.target.value\r\n      this.props.AhandleChange(id)\r\n      \r\n    }  \r\n\r\n    render() {\r\n        //console.log(this.props.toolsta)\r\n        return(\r\n            <div>\r\n            <ToolBarOutline>\r\n                <select  value={this.props.LayerId} onChange={(event) => this.handleChange(event)}>\r\n                {LayerList.map((todo, index)=>{\r\n                        return(\r\n                            <option key={todo.id}\r\n                            value={todo.id}>{todo.name}\r\n                            </option>\r\n                        )\r\n                    })\r\n                }    \r\n                </select>\r\n                \r\n                <ToolBarMaterial>\r\n                    \r\n                    <span className=\"point\" onClick={e => this.props.toolstate(this.props.toolsta)}> Tools </span> \r\n                    <span className=\"importfile\" onClick={this.props.modalstate}> import File</span>    \r\n                </ToolBarMaterial>\r\n                <SearchBar>\r\n                    <input onChange={(event) => this.updateInputText(event)} \r\n                        value = {this.props.inputText} \r\n                        type=\"text\"  \r\n                        placeholder='請輸入地址'\r\n                        onKeyPress={(event) => this.updateInputText(event)}>\r\n                    </input>\r\n                </SearchBar>\r\n            </ToolBarOutline>\r\n            \r\n            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        inputText: state.inputText,\r\n        LayerId: state.LayerId,\r\n        toolsta: state.toolsta,\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        Geo: inputText => {\r\n            dispatch(Geo(inputText))\r\n        },\r\n        AupdateInputText: inputText => {\r\n            dispatch(AupdateInputText(inputText))\r\n        },\r\n        AhandleChange: id =>{\r\n            dispatch(AhandleChange(id))\r\n        },\r\n        mapcursor: cursortype=>{\r\n            dispatch(mapcursor(cursortype))\r\n        },\r\n        toolstate: sboolean => {\r\n            dispatch(toolstate(sboolean))\r\n        },\r\n        modalstate: mboolean => {\r\n            dispatch(modalstate(mboolean))\r\n        },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolBar)","import React, { Component } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form'\r\nimport { connect } from \"react-redux\";\r\nimport {modalstate, } from '../actions/index'\r\n\r\nclass Featuremodal extends Component {\r\n    constructor() {\r\n      super()\r\n      \r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <Modal show = {this.props.mmodalstate} onHide = {this.props.modalstate}>\r\n                    \r\n                      <Modal.Header closeButton >\r\n                        <Modal.Title>匯入檔案</Modal.Title>\r\n                      </Modal.Header>\r\n\r\n                      <Modal.Body>\r\n                      <Form>\r\n                        \r\n                        <Form.Group controlId=\"formBasicImage\">\r\n                          <Form.Text className=\"text-muted\">\r\n                            Please input GPX/Image/Raster/Vecter file\r\n                          </Form.Text>  \r\n                          <Form.Label  ></Form.Label>\r\n                          <Form.Control type=\"file\" placeholder=\"Image/Raster/PNG...\" />\r\n                        </Form.Group>\r\n                        \r\n                      </Form>\r\n                      </Modal.Body>\r\n\r\n                      <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.modalstate}> 結束 </Button>\r\n                        <Button variant=\"primary\"> 送出 </Button>\r\n                      </Modal.Footer>\r\n                    \r\n                </Modal>\r\n            </>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = state =>{\r\n    return {\r\n        mmodalstate: state.modalstate\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        modalstate: mboolean => {\r\n            dispatch(modalstate(mboolean))\r\n        },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Featuremodal)","import React, { Component } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form'\r\nimport { connect } from \"react-redux\";\r\nimport {blogmodalstate, handleBlog, bloghandleSubmit} from '../actions/index'\r\n\r\nclass Blogmodal extends Component {\r\n    constructor() {\r\n      super()\r\n      \r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <Modal show = {this.props.bblogmodalstate} onHide = {this.props.blogmodalstate} >\r\n                    \r\n                      <Modal.Header closeButton >\r\n                        <Modal.Title>寫點遊記吧!!!</Modal.Title>\r\n                      </Modal.Header>\r\n\r\n                      <Modal.Body>\r\n                      <Form id=\"myForm\">\r\n                        \r\n                        <Form.Group controlId=\"formBasicImage\">\r\n                          <Form.Text className=\"text-muted\">\r\n                            寫點遊記吧!!!\r\n                          </Form.Text>  \r\n                          <Form.Label  ></Form.Label>\r\n                          <textarea id='blogText' className=\"form-control\" value={this.props.blog} onChange={e=>this.props.handleBlog(e.target.value)}></textarea>\r\n                        </Form.Group>\r\n                        \r\n                      </Form>\r\n                      </Modal.Body>\r\n\r\n                      <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.props.blogmodalstate}> 結束 </Button>\r\n                        <Button variant=\"primary\" form=\"myForm\" onClick={e=>{this.props.bloghandleSubmit(this.props.blog);alert('檔案已儲存')}} > 儲存 </Button>\r\n                      </Modal.Footer>\r\n                    \r\n                </Modal>\r\n            </>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = state =>{\r\n    return {\r\n        bblogmodalstate: state.blogmodalstate,\r\n        blog: state.fdata.blog,\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        blogmodalstate: mboolean => {\r\n            dispatch(blogmodalstate(mboolean))\r\n        },\r\n        bloghandleSubmit:blog => {\r\n          dispatch(bloghandleSubmit(blog))\r\n        },\r\n        handleBlog:blog => {\r\n          dispatch(handleBlog(blog))\r\n        },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Blogmodal)","import produce from \"immer\"\r\n\r\nconst initState = {\r\n    viewcenter:[],\r\n    pointerToPopup:{TF:false,po:[0,0],type:\"\",createPo : [0,0] },\r\n    ulstate : {\r\n        OpenOrClose: [],\r\n    },\r\n    modalstate: false,\r\n    blogmodalstate: false,\r\n    GoogleSearchMarker:{position:[0,0],status:'',value:{}},\r\n    lat: 25.0782884,\r\n    lng: 121.6067442,\r\n    MarkersPosition:{},\r\n    zoom: 11,\r\n    bounds:\"\",\r\n    LayerId : 0,\r\n    inputText:'',\r\n    response: {},\r\n    sfdata:{},\r\n    promiseaddress:\"\",\r\n    fdata:{\r\n      layer:{},\r\n      id:1,\r\n      name:\"\",\r\n      address:\"\",\r\n      coordinate:\"\",\r\n      photo:\"\",\r\n      remark:\"\",\r\n      blog:\"\",\r\n\r\n    },\r\n    mapcursor:'',\r\n    functiontype:'',\r\n    toolsta: false,\r\n    clickFeatureID: \"\",\r\n}\r\n\r\nconst MainR = (state = initState, action) =>{\r\nswitch (action.type) {\r\n    case 'Geo':\r\n        \r\n        return {\r\n            ...state, inputText:'',\r\n            lat: action.inputText.geometry.location.lat,\r\n            lng: action.inputText.geometry.location.lng,\r\n            zoom: 16,\r\n            response: action.inputText,\r\n            fdata: {...state.fdata, coordinate: [action.inputText.geometry.location.lat,action.inputText.geometry.location.lng]},\r\n            GoogleSearchMarker:{...state.GoogleSearchMarker,value:action.inputText,position:[action.inputText.geometry.location.lat,action.inputText.geometry.location.lng], status:'OK'},\r\n        }\r\n        \r\n        \r\n    \r\n    case 'AupdateInputText':\r\n        return{\r\n            ...state,inputText : action.inputText\r\n        }\r\n    case 'AhandleChange':\r\n        \r\n        return{\r\n            ...state , LayerId: action.LayerId\r\n        }\r\n    \r\n    case 'handleName':\r\n        \r\n        return{\r\n            ...state , fdata: {...state.fdata, name: action.name}\r\n        }\r\n\r\n    case 'handleAddress':\r\n        \r\n        return{\r\n            ...state , fdata: {...state.fdata, address: action.address}\r\n        }\r\n    \r\n    case 'handleCoordinate':\r\n        \r\n        return{\r\n            ...state , fdata: {...state.fdata, coordinate: [state.lat,state.lng]}\r\n        }\r\n\r\n    case 'handlePhoto':\r\n        \r\n        return{\r\n            ...state , fdata: {...state.fdata, photo: action.photo}\r\n        }\r\n\r\n    case 'handleRemark':\r\n        \r\n        return{\r\n            ...state , fdata: {...state.fdata, remark: action.remark}\r\n        }\r\n    \r\n    case 'handleBlog':\r\n    \r\n            return{\r\n                ...state , fdata: {...state.fdata, blog: action.blog}\r\n            }\r\n    \r\n    case 'handleSubmit':\r\n        //console.log(action)\r\n        //let markers = state.MarkersPosition\r\n        let idd = state.clickFeatureID\r\n        \r\n        //markers[idd] = action.fdata.coordinate\r\n        let submitState = produce(state,draftState =>{\r\n            draftState.sfdata[idd].name = action.fdata.name\r\n            draftState.sfdata[idd].address = action.fdata.address\r\n            draftState.sfdata[idd].photo = action.fdata.photo\r\n            draftState.sfdata[idd].remark = action.fdata.remark\r\n            \r\n\r\n        })\r\n        return submitState\r\n    \r\n    case 'bloghandleSubmit':\r\n            //console.log(action)\r\n            //let markers = state.MarkersPosition\r\n            let blogid = state.clickFeatureID\r\n            \r\n            //markers[idd] = action.fdata.coordinate\r\n            let blogsubmitState = produce(state,draftState =>{\r\n                draftState.sfdata[blogid].blog = action.blog\r\n                \r\n                \r\n    \r\n            })\r\n            return blogsubmitState    \r\n    case 'PopupIdAdd':\r\n        let PopupIdAdd = produce(state,draftState =>{\r\n\r\n            draftState.clickFeatureID= action.id\r\n        })\r\n        return PopupIdAdd\r\n    case 'getFeatureID':\r\n        //console.log(state.fdata,state.sfdata)\r\n        let clearsubmitState = produce(state,draftState =>{\r\n            \r\n            draftState.fdata.name = state.sfdata[action.id].name\r\n            draftState.fdata.address = state.sfdata[action.id].address\r\n            draftState.fdata.photo = state.sfdata[action.id].photo\r\n            draftState.fdata.remark = state.sfdata[action.id].remark\r\n            draftState.fdata.blog = state.sfdata[action.id].blog\r\n            \r\n            draftState.clickFeatureID= action.id\r\n        })\r\n        return clearsubmitState\r\n\r\n    case 'removePopup':\r\n        console.log(188)\r\n        let cleanPopstate = produce(state,draftState =>{\r\n            draftState.pointerToPopup.TF = false\r\n            draftState.pointerToPopup.po = [0,0]\r\n            draftState.fdata.name = \"\"\r\n            draftState.fdata.address = \"\"\r\n            draftState.fdata.photo = \"\"\r\n            draftState.fdata.remark = \"\"\r\n            draftState.fdata.blog = \"\"\r\n            //draftState.lat=action.latlng.lat\r\n            //draftState.lng=action.latlng.lng\r\n        }) \r\n        \r\n        return cleanPopstate\r\n    case 'openPopup':\r\n            //console.log(1)\r\n            let openPopstate = produce(state,draftState =>{\r\n                draftState.pointerToPopup.TF = true\r\n                //draftState.pointerToPopup.po = [0,0]\r\n                //draftState.lat=action.latlng.lat\r\n                //draftState.lng=action.latlng.lng\r\n            }) \r\n            \r\n            return openPopstate\r\n    \r\n    case  'ulonclick': \r\n\r\n        let deltaA = produce(state,draftState =>{\r\n\r\n            draftState.sfdata[action.id].OpenOrClose = !state.sfdata[action.id].OpenOrClose\r\n            draftState.blogmodalstate = true\r\n            draftState.fdata.blog = draftState.sfdata[action.id].blog\r\n\r\n        })\r\n        \r\n        \r\n        return deltaA\r\n    case 'getmoveend':\r\n        //console.log(action.e.center)\r\n        //console.log(state.bounds)\r\n        let getmoveend = produce(state, draftState => {\r\n            \r\n            //draftState.viewcenter = action.e.center\r\n            //draftState.lat = action.e.center[0]\r\n            //draftState.lng = action.e.center[1]\r\n            draftState.pointerToPopup.TF = true\r\n            draftState.pointerToPopup.po = state.pointerToPopup.createPo\r\n            \r\n        })\r\n        return getmoveend\r\n    case  'pointer': \r\n        //console.log(action.data.zoom)\r\n        //console.log(action.data.bounds)\r\n        let TypeOfPoint = produce(state, draftState => {\r\n\r\n            draftState.fdata.name = action.data.name\r\n            draftState.fdata.address = action.data.address\r\n            draftState.fdata.photo = action.data.photo\r\n            draftState.fdata.remark = action.data.remark\r\n            draftState.fdata.blog = action.data.blog\r\n            draftState.lat = action.data.coordinate[0]\r\n            draftState.lng = action.data.coordinate[1]\r\n            if(draftState.pointerToPopup.po[0] == 0 && draftState.pointerToPopup.po[0] !== action.data.coordinate[0]){\r\n                draftState.pointerToPopup.TF = !draftState.pointerToPopup.TF\r\n                draftState.pointerToPopup.po = [action.data.coordinate[0],action.data.coordinate[1]]\r\n                //console.log(1)\r\n            }else if(draftState.pointerToPopup.po[0] !== 0 && draftState.pointerToPopup.po[0] !== action.data.coordinate[0]){\r\n                draftState.pointerToPopup.po = [action.data.coordinate[0],action.data.coordinate[1]]\r\n                //console.log(2)    \r\n            }else if(draftState.pointerToPopup.po[0] !== 0 && draftState.pointerToPopup.po[0] == action.data.coordinate[0]){\r\n                draftState.pointerToPopup.TF = true\r\n                //console.log(3)\r\n            }\r\n            \r\n            \r\n            \r\n        })\r\n    \r\n        return TypeOfPoint\r\n    case 'GoogleMarkerToLayer':\r\n        let coor = state.GoogleSearchMarker.position\r\n        return{\r\n            ...state,\r\n            MarkersPosition:{...state.MarkersPosition,coor},\r\n            GoogleSearchMarker:{...state.GoogleSearchMarker, position:[0,0], status:'' ,value:{}}\r\n        }\r\n\r\n    case 'removeLi':\r\n        \r\n        return { \r\n            ...state,       \r\n            MarkersPosition: {}\r\n        }\r\n          \r\n    case 'mapcursor':\r\n        console.log(action.cursortype)\r\n        return{\r\n            ...state,\r\n            mapcursor: action.cursortype[0],\r\n            functiontype:action.cursortype[1],\r\n        }\r\n    \r\n    case 'toolstate':\r\n            //console.log(action.toolstate)\r\n        return{\r\n            ...state,\r\n            toolsta: !action.toolstate,\r\n        }    \r\n    case 'PopupOpenWhenCreatedAction':\r\n        //console.log(action.layer)\r\n        let PopupOpen = produce(state, draftState => {\r\n            draftState.pointerToPopup.TF = true\r\n            draftState.pointerToPopup.po = [action.layer._latlng.lat,action.layer._latlng.lng]\r\n            //draftState.pointerToPopup.type = \"circle\"\r\n        })\r\n        return PopupOpen\r\n    case 'PopupOpenWhenCreatedActionForRectangle':\r\n            console.log(action.center)\r\n            let PopupOpenRec = produce(state, draftState => {\r\n                draftState.pointerToPopup.TF = true\r\n                draftState.pointerToPopup.po = action.center\r\n            })\r\n            return PopupOpenRec\r\n// 加入圖層\r\n    case 'DispatchAddMarker':\r\n        \r\n        let Markerid = action.layer._leaflet_id;\r\n        let MarkernewLayer={}\r\n        \r\n        MarkernewLayer[Markerid] ={\r\n            layer:action.layer,\r\n            layertype:\"marker\",\r\n            name:\"新增圖層\",\r\n            address:\"\",\r\n            photo:\"\",\r\n            remark:\"\",\r\n            coordinate: [action.layer._latlng.lat,action.layer._latlng.lng],\r\n            id:action.layer._leaflet_id,\r\n            //zoom: 16,\r\n            OpenOrClose: false,\r\n\r\n        }\r\n        //console.log(MarkernewLayer)   \r\n                    \r\n        return {\r\n            ...state, \r\n            //lat: action.layer._latlng.lat,\r\n            //lng: action.layer._latlng.lng,\r\n            zoom: action.zoom,\r\n            //bounds: \"\",\r\n            sfdata: {...state.sfdata, ...MarkernewLayer},\r\n              \r\n        }\r\n    case 'DispatchAddRectangle':\r\n        console.log(action.layer._latlngs[0])\r\n        let rectangleid = action.layer._leaflet_id;\r\n        let rectanglenewLayer={}\r\n        let rectanglebounds = action.layer._bounds\r\n        let xposition = (rectanglebounds._northEast.lat+rectanglebounds._southWest.lat)/2\r\n        let yposition = (rectanglebounds._northEast.lng+rectanglebounds._southWest.lng)/2\r\n        //for ( let i = 0; i < action.layer._latlngs[0].length; i++) { xposition += action.layer._latlngs[0][i].lat}\r\n        //xposition = xposition/4\r\n        rectanglenewLayer[rectangleid] ={\r\n            layer:action.layer,\r\n            layertype:\"rectangle\",\r\n            name:\"新增圖層\",\r\n            address:\"\",\r\n            photo:\"\",\r\n            remark:\"\",\r\n            coordinate: [xposition,yposition],\r\n            id:action.layer._leaflet_id,\r\n            bounds: rectanglebounds,\r\n            //zoom: action.zoom,\r\n            OpenOrClose: false,\r\n        }\r\n                       \r\n        return {\r\n            ...state, \r\n            lat: xposition,\r\n            lng: yposition,\r\n            sfdata: {...state.sfdata, ...rectanglenewLayer},\r\n            zoom: action.zoom,\r\n            //bounds: rectanglebounds,\r\n              \r\n        }\r\n    case 'DispatchAddPolygon':\r\n        //console.log(action.layer)\r\n        let Polygonid = action.layer._leaflet_id;\r\n        let PolygonnewLayer={}\r\n        let polygonbounds = action.layer._bounds\r\n        let xxposition = (polygonbounds._northEast.lat+polygonbounds._southWest.lat)/2\r\n        let yyposition = (polygonbounds._northEast.lng+polygonbounds._southWest.lng)/2\r\n        PolygonnewLayer[Polygonid] ={\r\n            layer:action.layer,\r\n            layertype:\"polygon\",\r\n            name:\"新增圖層\",\r\n            address:\"\",\r\n            photo:\"\",\r\n            remark:\"\",\r\n            coordinate: [xxposition,yyposition],\r\n            id:action.layer._leaflet_id,\r\n            //bounds: polygonbounds,\r\n            OpenOrClose: false,\r\n            \r\n        }\r\n                       \r\n        return {\r\n            ...state, \r\n            lat: xxposition,\r\n            lng: yyposition,\r\n            zoom: action.zoom,\r\n            //bounds: polygonbounds,\r\n            sfdata: {...state.sfdata, ...PolygonnewLayer},\r\n              \r\n        }\r\n    case 'DispatchAddPolyline':\r\n        //console.log(action.layer._latlng)\r\n        let Polylineid = action.layer._leaflet_id;\r\n        let PolylinenewLayer={};\r\n        let LineBounds =action.layer._bounds;\r\n        let linex = (LineBounds._northEast.lat+LineBounds._southWest.lat)/2\r\n        let liney = (LineBounds._northEast.lng+LineBounds._southWest.lng)/2\r\n        PolylinenewLayer[Polylineid] ={\r\n            layer:action.layer,\r\n            layertype:\"polyline\",\r\n            name:\"新增圖層\",\r\n            address:\"\",\r\n            photo:\"\",\r\n            remark:\"\",\r\n            coordinate: [linex,liney],\r\n            id:action.layer._leaflet_id,\r\n            //bounds: LineBounds,\r\n            OpenOrClose: false,\r\n        }\r\n                       \r\n        return {\r\n            ...state, \r\n            lat: linex,\r\n            lng: liney,\r\n            zoom: action.zoom,\r\n            //bounds: LineBounds,\r\n            sfdata: {...state.sfdata, ...PolylinenewLayer},\r\n              \r\n        }\r\n\r\n    case 'DispatchAddCircle':\r\n            //console.log(action.layer._latlng)\r\n            let Circleid = action.layer._leaflet_id;\r\n            let CirclenewLayer={}\r\n            CirclenewLayer[Circleid] ={\r\n                layer:action.layer,\r\n                layertype:\"circle\",\r\n                name:\"新增圖層\",\r\n                address:\"\",\r\n                photo:\"\",\r\n                remark:\"\",\r\n                coordinate: [action.layer._latlng.lat,action.layer._latlng.lng],\r\n                id:action.layer._leaflet_id,\r\n                zoom: action.zoom,\r\n                //bounds: action.zoom,\r\n                OpenOrClose: false,\r\n            }\r\n                           \r\n            return {\r\n                ...state, \r\n                lat: action.layer._latlng.lat,\r\n                lng: action.layer._latlng.lng,\r\n                zoom: action.zoom,\r\n                //bounds: action.zoom,\r\n                sfdata: {...state.sfdata, ...CirclenewLayer},\r\n                  \r\n            }\r\n// 修改圖層 \r\n    case 'EditFeature':\r\n            \r\n            let Feature = Object.keys(action.layer._layers)\r\n            //console.log(Feature)\r\n            console.log(state.sfdata)\r\n            \r\n            \r\n\r\n            let EditState = produce(state, draftState => {\r\n                Feature.map((id,idx) =>{\r\n                    //console.log(action.layer._layers[id])\r\n                    //console.log(draftState.sfdata)\r\n                    let editlayer = action.layer._layers[id]\r\n                    draftState.sfdata[id].layer = editlayer[id]\r\n                    if(draftState.sfdata[id].layertype === 'marker'){\r\n                        draftState.sfdata[id].coordinate = [editlayer._latlng.lat,editlayer._latlng.lng]\r\n                        //draftState.sfdata[id].address = geoLatLngToAddress([editlayer._latlng.lat,editlayer._latlng.lng])\r\n                    }else if(draftState.sfdata[id].layertype === 'polyline'){\r\n                        let Bounds =editlayer._bounds;\r\n                        let x = (Bounds._northEast.lat+Bounds._southWest.lat)/2\r\n                        let y = (Bounds._northEast.lng+Bounds._southWest.lng)/2\r\n                        draftState.sfdata[id].coordinate = [x,y]\r\n                        //draftState.sfdata[id].address = geoLatLngToAddress([x,y])\r\n                    }else if(draftState.sfdata[id].layertype === 'polygon'){\r\n                        let Bounds =editlayer._bounds;\r\n                        let x = (Bounds._northEast.lat+Bounds._southWest.lat)/2\r\n                        let y = (Bounds._northEast.lng+Bounds._southWest.lng)/2\r\n                        draftState.sfdata[id].coordinate = [x,y]\r\n                        //draftState.sfdata[id].address = geoLatLngToAddress([x,y])\r\n                    }else if(draftState.sfdata[id].layertype === 'rectangle'){\r\n                        let Bounds =editlayer._bounds;\r\n                        let x = (Bounds._northEast.lat+Bounds._southWest.lat)/2\r\n                        let y = (Bounds._northEast.lng+Bounds._southWest.lng)/2\r\n                        draftState.sfdata[id].coordinate = [x,y]\r\n                        //draftState.sfdata[id].address = geoLatLngToAddress([x,y])\r\n                    }else if(draftState.sfdata[id].layertype === 'circle'){\r\n                        draftState.sfdata[id].coordinate = [editlayer._latlng.lat,editlayer._latlng.lng]\r\n                        //draftState.sfdata[id].address = geoLatLngToAddress([editlayer._latlng.lat,editlayer._latlng.lng])\r\n                    }\r\n                    \r\n                    \r\n                })\r\n            })\r\n            return EditState \r\n// 刪除圖層 \r\n    case 'DeleteFeature':   \r\n        let DFeature = Object.keys(action.layer._layers)   \r\n        let DeleteState = produce(state, draftState => {\r\n            draftState.pointerToPopup.TF = false\r\n            for(let i = 0; i< DFeature.length ;i++){\r\n                delete draftState.sfdata[DFeature[i]]\r\n            }\r\n        })\r\n\r\n        return DeleteState\r\n    default:\r\n        return state;\r\n}\r\n}\r\n\r\nexport default MainR","\r\nconst apiR = (state , action) => {\r\n    \r\n  if (action.type === \"modalstate\"){\r\n    //console.log(state.modalstate)\r\n    if(state.modalstate === false){\r\n      return{\r\n        ...state,\r\n        modalstate: true\r\n      }\r\n    }else{\r\n      return{\r\n        ...state,\r\n        modalstate: false\r\n      }\r\n    }\r\n  }else if (action.type === \"blogmodalstate\"){\r\n    console.log(state.blogmodalstate)\r\n    if(state.blogmodalstate === false){\r\n      return{\r\n        ...state,\r\n        blogmodalstate: true\r\n      }\r\n    }else{\r\n      return{\r\n        ...state,\r\n        blogmodalstate: false\r\n      }\r\n    }\r\n  }\r\n        return state\r\n    \r\n  }\r\n\r\nexport default apiR\r\n\r\n","import reduceReducers from 'reduce-reducers';\r\nimport MainR from './MainReducer'\r\nimport apiR from './ApiReducer'\r\n\r\n\r\n\r\n\r\nconst allReducers = reduceReducers(\r\n    \r\n    MainR,\r\n    apiR,\r\n\r\n    )\r\n\r\nexport default allReducers\r\n\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \".cls-1{fill:none;}\"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  \"data-name\": \"Layer 2\",\n  id: \"Layer_2\"\n}, React.createElement(\"path\", {\n  d: \"M20,25a1,1,0,0,1-.71-.29l-8-8a1,1,0,0,1,0-1.42l8-8a1,1,0,1,1,1.42,1.42L13.41,16l7.3,7.29a1,1,0,0,1,0,1.42A1,1,0,0,1,20,25Z\"\n}));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"frame\"\n}, React.createElement(\"rect\", {\n  className: \"cls-1\",\n  height: 32,\n  width: 32\n}));\n\nvar SvgArrowLeft = function SvgArrowLeft(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    ref: svgRef\n  }, props), _ref2, title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgArrowLeft, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrowLeft.cfd59a83.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \".cls-1{fill:none;}\"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  \"data-name\": \"Layer 2\",\n  id: \"Layer_2\"\n}, React.createElement(\"path\", {\n  d: \"M12,25a1,1,0,0,1-.71-.29,1,1,0,0,1,0-1.42L18.59,16l-7.3-7.29a1,1,0,1,1,1.42-1.42l8,8a1,1,0,0,1,0,1.42l-8,8A1,1,0,0,1,12,25Z\"\n}));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"frame\"\n}, React.createElement(\"rect\", {\n  className: \"cls-1\",\n  height: 32,\n  width: 32\n}));\n\nvar SvgArrowRight = function SvgArrowRight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    ref: svgRef\n  }, props), _ref2, title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgArrowRight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrowRight.9408db55.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\r\nimport styled, {keyframes }from 'styled-components'\r\nimport {ulonclick, pointer} from '../actions/index'\r\nimport { connect } from \"react-redux\";\r\nimport { ReactComponent as Minus } from '../icon/arrowLeft.svg'\r\nimport { ReactComponent as Plus } from '../icon/arrowRight.svg'\r\nimport { ReactComponent as Blog } from '../icon/blog.svg'\r\n\r\n\r\nconst Button = styled.button`\r\n\r\nfloat: right;\r\nz-index: 3;\r\n\r\n`\r\nconst SideDiv = styled.div`\r\nbackground: black;\r\nmargin:0 0 0 0;\r\n\r\nz-index:3;\r\n\r\n`\r\n\r\nconst Ful = styled.ul`\r\n\r\n\r\nmargin:25 0 0 0;\r\npadding:0;\r\nlist-style-type: none;\r\nli.subli{\r\n    margin-top:30px;\r\n}\r\nli.subli:hover{\r\n    margin-top:30px;\r\n}\r\na.subtitle{\r\n    margin-top:15px;\r\n}\r\nul.submenu{\r\n    \r\n    margin-left:25px;\r\n    list-style-type:disc;\r\n    color:#333333;\r\n}\r\nbutton.RemoveButton{\r\n    float: right;\r\n    opacity: 0.2;\r\n    transition: opacity .35s ease;\r\n}\r\nbutton.RemoveButton:hover{\r\n    float: right;\r\n    opacity: 1;\r\n}\r\n.OpenButton{\r\n    float: right;\r\n    opacity: 0.2;\r\n    transition: opacity .35s ease;\r\n    display: inline;\r\n    g {\r\n    \r\n        fill: #DB7290;;\r\n    }\r\n    g path {\r\n        \r\n        stroke: #DB7290;;\r\n        fill: #FFD0DD;\r\n        \r\n    }\r\n    \r\n    max-width: 30px; \r\n    max-height: 30px;\r\n    text-align: right;\r\n}\r\n.OpenButton:hover{\r\n    float: right;\r\n    opacity: 1;\r\n}\r\n`\r\nconst iconrotate = keyframes`\r\n\r\n\r\n    from {\r\n      transform: rotate(0deg);\r\n    }\r\n    to {\r\n      transform: rotate(45deg);\r\n    }\r\n\r\n`\r\n\r\nconst SlideFromLtoR = keyframes`\r\n\r\n    from{\r\n        width: 0%\r\n    }\r\n    to{\r\n        width: 15%\r\n    }\r\n`\r\nconst SlideFromRtoL = keyframes`\r\n\r\n    from{\r\n        width: 15%\r\n    }\r\n    to{\r\n        width: 0%\r\n    }\r\n`\r\nconst Icondiv = styled.div`\r\n    \r\n    background:${props=> (props.clickstate ? 'rgba(0,0,0,.075)' : 'rgba(0,123,255,.25)')};\r\n    float: left;\r\n    display: inline;\r\n    position: absolute;\r\n    .App-minus g {\r\n    \r\n        fill: #DB7290;;\r\n    }\r\n    .App-minus g path {\r\n        \r\n        stroke: #DB7290;;\r\n        fill: #FFD0DD;\r\n        \r\n    }\r\n    .App-minus {\r\n        max-width: 30px; \r\n        max-height: 30px;\r\n        text-align: right;\r\n        \r\n        \r\n    }\r\n    width: 30px;\r\n    \r\n    z-index: 4;\r\n    \r\n    `\r\nconst Sbar = styled.div`\r\n    \r\n    \r\n    float: left;\r\n    display: inline;\r\n    margin-left: auto;\r\n    background: black;\r\n    color: white;\r\n    position: absolute;\r\n    z-index: 2;\r\n    animation: ${props=> (props.clickstate ? SlideFromLtoR : SlideFromRtoL)} 0.3s linear ;\r\n    animation-fill-mode: forwards;\r\n    `\r\n    \r\nclass SideBar extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state={\r\n            clickstate : true,\r\n            \r\n            \r\n        }\r\n    }\r\n    \r\n    onclick = () =>{\r\n        this.setState({\r\n            clickstate: !this.state.clickstate,\r\n            \r\n        })\r\n        //console.log(Object.keys(this.props.record).length)\r\n        //console.log(typeof(this.props.record.id))\r\n        //console.log(this.props.record.id)\r\n        \r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n    render() {\r\n        //console.log(this.props.record)\r\n        return (\r\n            <SideDiv className=\"SideDiv\">\r\n                \r\n                <Sbar style= { {height: 'calc(100% - 34px)', opacity: 0.5 }} clickstate = {this.state.clickstate}>\r\n                    \r\n                    { !this.state.clickstate ? '' :<Ful>\r\n                        {    //console.log(this.props.record),\r\n                            !this.props.record?\"this.props.record.map\":Object.keys(this.props.record).map((todo, index)=>{\r\n                                return(\r\n\r\n                                    //console.log(this.props.record[todo].id),\r\n                                    //console.log(index),\r\n                                    <li className=\"subli\" key={this.props.record[todo].id}>\r\n                                        <span className=\"subtitle\" style= {{cursor:'pointer',}} id={this.props.record[todo].id} onClick ={e => this.props.pointer(this.props.record[todo])}>{this.props.record[todo].name}</span>\r\n                                        <div style={{width:'25px', display: 'inline-block' , float: 'right'}}>\r\n                                        <Blog className=\"OpenButton\" onClick={e => this.props.ulonclick(todo) } >O</Blog>\r\n                                        </div>\r\n                                    </li>    \r\n\r\n                                )\r\n                            })                      \r\n                        }</Ful>\r\n                    }\r\n                </Sbar>\r\n                <Icondiv clickstate = {this.state.clickstate}>\r\n                    { !this.state.clickstate ? \r\n                    \r\n                        <Plus onClick = {this.onclick} className=\"App-minus\"/>\r\n                    \r\n                        :<Minus onClick = {this.onclick} className=\"App-minus\" />}\r\n                </Icondiv>\r\n            </SideDiv>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        ulstate: state.ulstate,\r\n        record: state.sfdata,\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        ulonclick: id => {\r\n            dispatch(ulonclick(id))\r\n        },\r\n        \r\n        pointer: data => {\r\n            dispatch(pointer(data))\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SideBar)","import React, { Component } from 'react'\nimport Main from './component/main' \nimport ToolBar from './component/toolbar'\nimport Featuremodal from './component/featuremodal'\nimport Blogmodal from './component/blogmodal'\nimport {createStore} from 'redux'\nimport { Provider } from \"react-redux\";\nimport allReducers from './reducers/index';\nimport SideBar from './component/sidebar';\nlet store = createStore(allReducers,/* preloadedState, */  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\n//console.log(store.getState())\nclass App extends Component {\n    \n\n  \n  \n  \n\n  \n  \n\n\n  render() {\n    return (\n      <Provider store={store}>\n    <div> \n      <ToolBar/>\n      <SideBar/>\n      <Featuremodal />\n      <Blogmodal/>\n      <Main />\n    </div>  \n    </Provider>  \n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}